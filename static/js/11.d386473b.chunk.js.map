{"version":3,"sources":["components/User.tsx","components/services/Firebase.tsx","components/subComponents/Html.tsx","components/Navs/LoggedNav.tsx","components/subComponents/NotLogged.tsx","images/pro.jpg","images/admin.svg","components/services/Statistics.tsx"],"names":["User","props","config","require","username","match","params","useState","status","setStatus","haveAUser","setHaveAUser","userStatus","useContext","UserContext","user","setUser","userData","setUserData","randomData","setRandomData","quotesData","setQuotesData","customData","setCustomData","randomDataTime","setRandomDataTime","quotesDataTime","setQuotesDataTime","customDataTime","setCustomDataTime","allUsernames","useEffect","spinner","document","querySelector","notLoggedIn","Firebase","auth","onAuthStateChanged","usr","style","display","db","collection","get","then","forEach","data","push","includes","where","query","doc","randomHistory","map","w","wpm","quotesHistory","customHistory","t","time","title","name","className","path","src","profileImage","alt","role","Admin","pro","Pro","typingHubID","description","points","rank","keyboardLayout","bestWPM","lastWPM","races","randomTests","quotesTests","customTests","timestamp","toDate","getDate","getMonth","getFullYear","marginTop","length","Math","floor","reduce","a","b","labels","lineColor","pointColor","fire","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","Html","LoggedNav","notifications","setNotifications","isMounted","onSnapshot","includeMetadataChanges","wrapper","history","useHistory","mobileStatus","handleSignOut","signOut","notStatus","onClick","mobileNav","effect","opacity","zIndex","to","photoURL","xmlns","width","height","viewBox","strokeWidth","stroke","fill","strokeLinecap","strokeLinejoin","d","x","sender","message","id","play","href","NotLogged","adminRequest","Statistics","datasets","label","backgroundColor","lineTension","borderColor","pointBorderColor","options","maintainAspectRatio","layout","padding","scales","xAxes","gridLines","color","ticks","yAxes"],"mappings":"mOAgQeA,UApPF,SAACC,GACZ,IAAMC,EAASC,EAAQ,IACjBC,EAAWH,EAAMI,MAAMC,OAAOF,SAFT,EAGCG,mBAAS,IAHV,mBAGpBC,EAHoB,KAGZC,EAHY,OAIOF,oBAAkB,GAJzB,mBAIpBG,EAJoB,KAITC,EAJS,KAKrBC,EAAaC,qBAAWC,KACtBC,EAAyCH,EAAzCG,KAAMC,EAAmCJ,EAAnCI,QAASC,EAA0BL,EAA1BK,SAAUC,EAAgBN,EAAhBM,YANN,EAQSX,mBAAmB,IAR5B,mBAQpBY,EARoB,KAQRC,EARQ,OASSb,mBAAmB,IAT5B,mBASpBc,EAToB,KASRC,EATQ,OAUSf,mBAAmB,IAV5B,mBAUpBgB,EAVoB,KAURC,EAVQ,OAYiBjB,mBAAmB,IAZpC,mBAYpBkB,EAZoB,KAYJC,EAZI,OAaiBnB,mBAAmB,IAbpC,mBAapBoB,EAboB,KAaJC,EAbI,OAciBrB,mBAAmB,IAdpC,mBAcpBsB,EAdoB,KAcJC,EAdI,KAgBvBC,EAAyB,GAmE7B,OAjEAC,qBAAU,WACR,IAAIC,EAAUC,SAASC,cAAc,oBACjCC,EAAcF,SAASC,cAAc,gBA4DzC,OA1DAxB,GAAa,GAEb0B,IAASC,OAAOC,oBAAmB,SAACC,GAC9BA,GACFxB,EAAQwB,GACRP,EAAQQ,MAAMC,QAAU,OAExBC,IAAGC,WAAW,SACXC,MACAC,MAAK,SAAC/B,GACLA,EAAKgC,SAAQ,SAACC,GACZjB,EAAakB,KAAKD,EAAKA,OAAO5C,gBAGjC0C,MAAK,WACAf,EAAamB,SAAS9C,GACxBuC,IAAGC,WAAW,SACXO,MAAM,WAAY,KAAM/C,GACxByC,MACAC,MAAK,SAACM,GACLzC,GAAa,GACbyC,EAAML,SAAQ,SAACM,GACbnC,EAAYmC,EAAIL,QAChBvC,EAAU,IAEVW,EACEiC,EAAIL,OAAOM,cAAcC,KAAI,SAACC,GAAD,OAAYA,EAAEC,QAE7CnC,EACE+B,EAAIL,OAAOU,cAAcH,KAAI,SAACC,GAAD,OAAYA,EAAEC,QAE7CjC,EACE6B,EAAIL,OAAOW,cAAcJ,KAAI,SAACC,GAAD,OAAYA,EAAEC,QAG7C/B,EACE2B,EAAIL,OAAOM,cAAcC,KAAI,SAACK,GAAD,OAAYA,EAAEC,SAE7CjC,EACEyB,EAAIL,OAAOU,cAAcH,KAAI,SAACK,GAAD,OAAYA,EAAEC,SAE7C/B,EACEuB,EAAIL,OAAOW,cAAcJ,KAAI,SAACK,GAAD,OAAYA,EAAEC,eAKnDpD,EACE,yGAKR2B,EAAYK,MAAMC,QAAU,QAC5BT,EAAQQ,MAAMC,QAAU,WAIrB,kBAAM/B,GAAa,MACzB,IAGD,qCACE,cAAC,IAAD,CACEmD,MAAK,UAAK5D,EAAO6D,KAAZ,cAAsBrD,GAAaN,EAAWA,EAAW,OAAzD,WAGNa,GAAYF,EACX,sBAAKiD,UAAU,kBAAf,UACE,cAAC,IAAD,CAAKC,KAAK,QAAQF,KAAK,SACvB,sBAAKC,UAAU,kBAAf,UACE,mBAAGA,UAAU,iBAAb,SAA+BxD,IAC9BE,GAAaO,EACZ,sBAAK+C,UAAU,eAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,qBAAKE,IAAKjD,EAASkD,aAAcC,IAAI,KACrC,sBAAKJ,UAAU,eAAf,UACE,+BACG/C,EAASb,SACS,UAAlBa,EAASoD,KAAmB,qBAAKL,UAAU,YAAYE,IAAKI,IAAOF,IAAI,KAAQ,GAC/EnD,EAASsD,IAAM,qBAAKP,UAAU,UAAUE,IAAKM,MAAU,KACxD,+BAAOvD,EAASwD,iBAElB,cAAC,IAAD,UACC,qBAAKT,UAAU,sBAAf,SACG/C,EAASyD,gBAGb,mBAAGV,UAAU,iBAAb,mBAAkC/C,EAAS0D,OAA3C,oBAA6D1D,EAAS2D,KAAtE,aAGJ,sBAAKZ,UAAU,iBAAf,UACE,6CAEoB,UAAlB/C,EAASoD,KAAmB,oBAAGL,UAAU,YAAb,4CAAwD,qBAAKA,UAAU,YAAYE,IAAKI,IAAOF,IAAI,QAAY,GAE7I,yCACU,yCAAUnD,EAAS0D,aAE7B,iDAAmB,+BAAyB,UAAlB1D,EAASoD,KAAmB,QAAU,YAChE,kDACmB,+BAAOpD,EAAS4D,oBAEnC,uCACQ,iCAAO5D,EAAS6D,QAAhB,aAER,4CACa,iCAAO7D,EAAS8D,QAAhB,aAEb,wCACS,+BAAO9D,EAAS+D,WAEzB,0DAC4B,IAC1B,+BAAO/D,EAASgE,iBAElB,0DAC4B,IAC1B,+BAAOhE,EAASiE,iBAElB,0DAC4B,IAC1B,+BAAOjE,EAASkE,iBAElB,oDACsB,IACpB,yCAAUlE,EAASmE,UAAUC,SAASC,UAAtC,YACErE,EAASmE,UAAUC,SAASE,WAAa,EAD3C,YAEItE,EAASmE,UAAUC,SAASG,oBAGlC,oBAAI/C,MAAO,CAAEgD,UAAW,QAAxB,+BACA,gEACkC,IAChC,+BACGtE,EAAWuE,QAAU,EAClBC,KAAKC,MACHzE,EAAW0E,QAAO,SAACC,EAAGC,GAAJ,OAChBJ,KAAKC,MAAME,EAAIC,MACb5E,EAAWuE,QAEjB,mBAGR,gEACkC,IAChC,+BACGrE,EAAWqE,QAAU,EAClBC,KAAKC,MACHvE,EAAWwE,QAAO,SAACC,EAAGC,GAAJ,OAChBJ,KAAKC,MAAME,EAAIC,MACb1E,EAAWqE,QAEjB,mBAGR,gEACkC,IAChC,+BACGnE,EAAWmE,QAAU,EAClBC,KAAKC,MACHrE,EAAWsE,QAAO,SAACC,EAAGC,GAAJ,OAChBJ,KAAKC,MAAME,EAAIC,MACbxE,EAAWmE,QAEjB,mBAIPvE,EAAWuE,QAAU,GAAKrE,EAAWqE,QAAU,EAC9C,qCACE,cAAC,IAAD,CACEM,OAAQvE,EACRgC,IAAKtC,EACL2C,MAAM,yBACNmC,UAAU,UACVC,WAAW,YAGb,cAAC,IAAD,CACEF,OAAQrE,EACR8B,IAAKpC,EACLyC,MAAM,yBACNmC,UAAU,UACVC,WAAW,YAGZ3E,EAAWmE,QAAU,EACpB,cAAC,IAAD,CACEM,OAAQnE,EACR4B,IAAKlC,EACLuC,MAAM,yBACNmC,UAAU,UACVC,WAAW,YAGb,mBAAGzD,MAAO,CAAEgD,UAAW,QAAvB,iGAOJ,mBAAGzB,UAAU,cAAb,2EAMO,KAAXxD,EACF,qBAAKwD,UAAU,uBACb,WAIR,cAAC,IAAD,IAEF,qBAAKA,UAAU,yB,6PC3PrB,8CAeMmC,GAfN,kBAeaC,IAASC,cAVC,CACrBC,OAAQ,0CACRC,WAAY,mCACZC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,eACnBC,MAAO,+CAKIhE,EAAKyD,IAASQ,YAEZT,O,gCClBf,mBAiBeU,IAff,SAAc5G,GACZ,OACE,eAAC,IAAD,WACE,gCAAQA,EAAM6D,QACd,iK,wGCiQSgD,IAhQf,SAAmB7G,GAAY,MAEaM,mBAAc,IAF3B,mBAEtBwG,EAFsB,KAEPC,EAFO,KAIvBpG,EAAaC,qBAAWC,KACtBC,EAA8BH,EAA9BG,KAAMC,EAAwBJ,EAAxBI,QAASE,EAAeN,EAAfM,YAGvBc,qBAAU,WACR,IAAIiF,GAAY,EAQhB,OAPA5E,IAASC,OAAOC,oBAAmB,SAACC,GAC9BA,GACEyE,GACFjG,EAAQwB,MAIP,WACLyE,GAAY,KAEb,IAEHjF,qBAAU,WACR,IAAIiF,GAAY,EAehB,OAdIlG,GACF4B,IAAGC,WAAW,iBACXS,IAAI,UACJ6D,WACC,CACEC,wBAAwB,IAE1B,SAAC9D,GACK4D,GACFD,EAAiB3D,EAAIL,OAAOoE,YAK/B,WACLH,GAAY,KAEb,CAAClG,IAEJ,IAAMsG,EAAUC,cAEZC,GAAe,EAkCbC,EAAgB,WACpBnF,IAASC,OAAOmF,UAChBvG,EAAY,MACZF,EAAQ,MACRqG,EAAQpE,KAAK,aAGXyE,GAAY,EAiBhB,OACE,qCACE,qBAAK1D,UAAU,eAAe2D,QAvCP,WACzBJ,GAAe,EAEf,IAAIK,EAAY1F,SAASC,cACvB,oBAEE0F,EAAS3F,SAASC,cAAc,iBAEpCyF,EAAUnF,MAAMC,QAAU,OAC1BmF,EAAOpF,MAAMqF,QAAU,IACvBD,EAAOpF,MAAMsF,OAAS,QA+BpB,sBAAK/D,UAAU,eAAf,UACE,oBAAIA,UAAU,gBAAd,SACE,eAAC,IAAD,CAAUgE,GAAG,IAAb,qBACS,8BAIX,sBAAKhE,UAAU,aAAf,UACE,6BACE,cAAC,IAAD,CAAMgE,GAAI/H,EAAMgE,KAAhB,SACE,6BAAKhE,EAAM8D,WAIf,cAAC,IAAD,CAAMiE,GAAG,WAAT,SACE,qBACE9D,IACEnD,EACIA,EAAKkH,SACL,mJAENjE,UAAU,qBACVI,IAAI,OAIR,sBAAKJ,UAAU,gBAAf,UACE,qBAAKA,UAAU,kBAAkB2D,QA9Cf,WAC1BD,GAAaA,EACb,IAAIN,EAAUlF,SAASC,cACrB,yBAGEuF,GACFN,EAAQ3E,MAAMsF,OAAS,MACvBX,EAAQ3E,MAAMqF,QAAU,MAExBV,EAAQ3E,MAAMsF,OAAS,OACvBX,EAAQ3E,MAAMqF,QAAU,MAmClB,SACE,sBACEI,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,YAAY,MACZC,OAAO,UACPC,KAAK,OACLC,cAAc,QACdC,eAAe,QATjB,UAWE,sBAAMH,OAAO,OAAOI,EAAE,gBAAgBH,KAAK,SAC3C,sBAAMG,EAAE,2FACR,sBAAMA,EAAE,kCAIZ,sBAAK3E,UAAU,uBAAf,UACE,+CACC+C,EACCA,EAAcrB,QAAU,EACtBqB,EAAcxD,KAAI,SAACqF,GACjB,OACE,sBAAK5E,UAAU,eAAf,UACE,oBAAGA,UAAU,SAAb,UACE,wCADF,IACqB4E,EAAEC,UAEvB,oBAAG7E,UAAU,sBAAb,UACG4E,EAAEE,QADL,IACc,uCAAUF,EAAE/E,aALO+E,EAAEG,OAUvC,mBAAG/E,UAAU,oBAAb,0CAEJ,qBAAKA,UAAU,8BAKrB,yBAAQA,UAAU,kBAAkB2D,QAASH,EAA7C,UACE,sBACEU,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,YAAY,MACZC,OAAO,UACPC,KAAK,OACLC,cAAc,QACdC,eAAe,QATjB,UAWE,sBAAMH,OAAO,OAAOI,EAAE,gBAAgBH,KAAK,SAC3C,sBAAMG,EAAE,oFACR,sBAAMA,EAAE,iCAEV,4CAGF,sBAAK3E,UAAU,kBAAkB2D,QAnJpB,WACnBJ,GAAgBA,EAEhB,IAAIK,EAAY1F,SAASC,cACvB,oBAEE0F,EAAS3F,SAASC,cAAc,iBAEhCoF,GACFK,EAAUnF,MAAMC,QAAU,QAC1BmF,EAAOpF,MAAMqF,QAAU,MACvBD,EAAOpF,MAAMsF,OAAS,QAEtBH,EAAUnF,MAAMC,QAAU,OAC1BmF,EAAOpF,MAAMqF,QAAU,IACvBD,EAAOpF,MAAMsF,OAAS,OAoIlB,UACE,qBAAK/D,UAAU,oBAAf,eACA,qBAAKA,UAAU,mBAAf,eACA,qBAAKA,UAAU,oBAAf,wBAKN,sBAAKA,UAAU,kBAAf,UACE,oBAAIA,UAAU,sBAAd,SACE,eAAC,IAAD,CAAUgE,GAAG,IAAb,qBACS,8BAIX,sBAAKhE,UAAU,mBAAf,UACE,6BACG/D,EAAM+I,KACL,mBAAGC,KAAMhJ,EAAMgE,KAAf,SAAsBhE,EAAM8D,OAE5B,cAAC,IAAD,CAAMiE,GAAI/H,EAAMgE,KAAhB,SACE,6BAAKhE,EAAM8D,WAKjB,cAAC,IAAD,CAAMiE,GAAG,WAAT,SACE,qBACE9D,IACEnD,EACIA,EAAKkH,SACL,mJAENjE,UAAU,qBACVI,IAAI,OAIR,yBAAQJ,UAAU,wBAAwB2D,QAASH,EAAnD,UACE,sBACEU,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,YAAY,MACZC,OAAO,UACPC,KAAK,OACLC,cAAc,QACdC,eAAe,QATjB,UAWE,sBAAMH,OAAO,OAAOI,EAAE,gBAAgBH,KAAK,SAC3C,sBAAMG,EAAE,oFACR,sBAAMA,EAAE,iCAEV,uD,gCC/PZ,8BAmBeO,IAhBG,SAACjJ,GACjB,OACE,sBAAK+D,UAAU,cAAf,UACE,4BAAI/D,EAAMkJ,aAAe,4CAA8C,gEACvE,sBAAKnF,UAAU,UAAf,UACE,cAAC,IAAD,CAAMgE,GAAG,WAAT,SACE,+CAEF,cAAC,IAAD,CAAMA,GAAG,WAAT,SACE,uD,gCCZK,QAA0B,iC,gCCA1B,QAA0B,mC,gCCAzC,wBAsDeoB,IAnDf,SAAoBnJ,GAClB,OACE,qBAAK+D,UAAU,UAAf,SACE,cAAC,OAAD,CACEhB,KAAM,CACJgD,OAAQ/F,EAAM+F,OAEdqD,SAAU,CACR,CACEC,MAAOrJ,EAAM6D,MACbd,KAAM/C,EAAMwD,IACZ8F,gBAAiBtJ,EAAMiG,WACvBsC,MAAM,EACNgB,YAAa,EACbC,YAAaxJ,EAAMgG,UACnByD,iBAAkBzJ,EAAMiG,cAI9BkC,OAAQ,IACRD,MAAO,KACPwB,QAAS,CACPC,qBAAqB,EACrBC,OAAQ,CACNC,QAAS,GAEXC,OAAQ,CACNC,MAAO,CACL,CACEC,UAAW,CACTC,MAAO,WAETC,MAAO,CACLzH,SAAS,KAIf0H,MAAO,CACL,CACEH,UAAW,CACTC,MAAO","file":"static/js/11.d386473b.chunk.js","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport \"../style/css/main.css\";\r\nimport Nav from \"./Navs/LoggedNav\";\r\nimport Firebase, { db } from \"./services/Firebase\";\r\nimport Pro from \"../images/pro.jpg\";\r\nimport NotLogged from \"./subComponents/NotLogged\";\r\nimport HTML from \"./subComponents/Html\";\r\nimport Statistics from \"./services/Statistics\";\r\nimport UserContext from \"./services/UserContext\";\r\nimport Linkify from \"react-linkify\";\r\nimport Admin from \"../images/admin.svg\";\r\n\r\nconst User = (props: any) => {\r\n  const config = require(\"../config.json\")\r\n  const username = props.match.params.username;\r\n  const [status, setStatus] = useState(\"\");\r\n  const [haveAUser, setHaveAUser] = useState<boolean>(false);\r\n  const userStatus = useContext(UserContext);\r\n  const { user, setUser, userData, setUserData } = userStatus;\r\n\r\n  const [randomData, setRandomData] = useState<number[]>([]);\r\n  const [quotesData, setQuotesData] = useState<number[]>([]);\r\n  const [customData, setCustomData] = useState<number[]>([]);\r\n\r\n  const [randomDataTime, setRandomDataTime] = useState<string[]>([]);\r\n  const [quotesDataTime, setQuotesDataTime] = useState<string[]>([]);\r\n  const [customDataTime, setCustomDataTime] = useState<string[]>([]);\r\n\r\n  let allUsernames: string[] = [];\r\n\r\n  useEffect(() => {\r\n    let spinner = document.querySelector(\".userPageSpinner\") as HTMLDivElement;\r\n    let notLoggedIn = document.querySelector(\".notLoggedIn\") as HTMLDivElement;\r\n\r\n    setHaveAUser(false);\r\n\r\n    Firebase.auth().onAuthStateChanged((usr) => {\r\n      if (usr) {\r\n        setUser(usr);\r\n        spinner.style.display = \"none\";\r\n\r\n        db.collection(\"users\")\r\n          .get()\r\n          .then((user) => {\r\n            user.forEach((data) => {\r\n              allUsernames.push(data.data().username);\r\n            });\r\n          })\r\n          .then(() => {\r\n            if (allUsernames.includes(username)) {\r\n              db.collection(\"users\")\r\n                .where(\"username\", \"==\", username)\r\n                .get()\r\n                .then((query: any) => {\r\n                  setHaveAUser(true);\r\n                  query.forEach((doc: any) => {\r\n                    setUserData(doc.data());\r\n                    setStatus(\"\");\r\n\r\n                    setRandomData(\r\n                      doc.data().randomHistory.map((w: any) => w.wpm)\r\n                    );\r\n                    setQuotesData(\r\n                      doc.data().quotesHistory.map((w: any) => w.wpm)\r\n                    );\r\n                    setCustomData(\r\n                      doc.data().customHistory.map((w: any) => w.wpm)\r\n                    );\r\n\r\n                    setRandomDataTime(\r\n                      doc.data().randomHistory.map((t: any) => t.time)\r\n                    );\r\n                    setQuotesDataTime(\r\n                      doc.data().quotesHistory.map((t: any) => t.time)\r\n                    );\r\n                    setCustomDataTime(\r\n                      doc.data().customHistory.map((t: any) => t.time)\r\n                    );\r\n                  });\r\n                });\r\n            } else {\r\n              setStatus(\r\n                \"This user does not exist or his/her account might have been deleted or the username was changed.\"\r\n              );\r\n            }\r\n          });\r\n      } else {\r\n        notLoggedIn.style.display = \"block\";\r\n        spinner.style.display = \"none\";\r\n      }\r\n    });\r\n\r\n    return () => setHaveAUser(false);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <HTML\r\n        title={`${config.name} | ${haveAUser && username ? username : \"User\"} page`}\r\n      />\r\n\r\n      {userData && user ? (\r\n        <div className=\"userPageWrapper\">\r\n          <Nav path=\"/play\" name=\"Main\" />\r\n          <div className=\"userPageContent\">\r\n            <p className=\"userPageStatus\">{status}</p>\r\n            {haveAUser && userData ? (\r\n              <div className=\"userPageGrid\">\r\n                <div className=\"userSectionOne\">\r\n                  <img src={userData.profileImage} alt=\"\" />\r\n                  <div className=\"userPageInfo\">\r\n                    <h1>\r\n                      {userData.username}\r\n                      {userData.role === \"admin\" ? <img className=\"adminIcon\" src={Admin} alt=\"\" /> : \"\"}\r\n                      {userData.pro ? <img className=\"proIcon\" src={Pro} /> : null}\r\n                      <span>{userData.typingHubID}</span>\r\n                    </h1>\r\n                    <Linkify>\r\n\t                    <div className=\"userPageDescription\">\r\n\t                      {userData.description}\r\n\t                    </div>\r\n                    </Linkify>\r\n                    <p className=\"userPagePoints\">{`${userData.points} Points (${userData.rank})`}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"userSectionTwo\">\r\n                  <h1>Public info</h1>\r\n                  {\r\n                    userData.role === \"admin\" ? <p className=\"adminInfo\">This user is a TypingHub Admin <img className=\"adminIcon\" src={Admin} alt=\"\" /></p> : \"\"\r\n                  }\r\n                  <p>\r\n                    Points: <span>{`${userData.points}`}</span>\r\n                  </p>\r\n                  <p>TypingHub Role: <span>{userData.role === \"admin\" ? \"Admin\" : \"User\"}</span></p>\r\n                  <p>\r\n                    Keyboard Layout: <span>{userData.keyboardLayout}</span>\r\n                  </p>\r\n                  <p>\r\n                    Best: <span>{userData.bestWPM} WPM</span>\r\n                  </p>\r\n                  <p>\r\n                    Last test: <span>{userData.lastWPM} WPM</span>\r\n                  </p>\r\n                  <p>\r\n                    Tests: <span>{userData.races}</span>\r\n                  </p>\r\n                  <p>\r\n                    Tests on random category:{\" \"}\r\n                    <span>{userData.randomTests}</span>\r\n                  </p>\r\n                  <p>\r\n                    Tests on quotes category:{\" \"}\r\n                    <span>{userData.quotesTests}</span>\r\n                  </p>\r\n                  <p>\r\n                    Tests on custom category:{\" \"}\r\n                    <span>{userData.customTests}</span>\r\n                  </p>\r\n                  <p>\r\n                    Account created on:{\" \"}\r\n                    <span>{`${userData.timestamp.toDate().getDate()}/${\r\n                      userData.timestamp.toDate().getMonth() + 1\r\n                    }/${userData.timestamp.toDate().getFullYear()}`}</span>\r\n                  </p>\r\n\r\n                  <h1 style={{ marginTop: \"25px\" }}>Public statistics</h1>\r\n                  <p>\r\n                    Average WPM on random category:{\" \"}\r\n                    <span>\r\n                      {randomData.length >= 2\r\n                        ? Math.floor(\r\n                            randomData.reduce((a, b): number =>\r\n                              Math.floor(a + b)\r\n                            ) / randomData.length\r\n                          )\r\n                        : \"Unavailable\"}\r\n                    </span>\r\n                  </p>\r\n                  <p>\r\n                    Average WPM on quotes category:{\" \"}\r\n                    <span>\r\n                      {quotesData.length >= 2\r\n                        ? Math.floor(\r\n                            quotesData.reduce((a, b): number =>\r\n                              Math.floor(a + b)\r\n                            ) / quotesData.length\r\n                          )\r\n                        : \"Unavailable\"}\r\n                    </span>\r\n                  </p>\r\n                  <p>\r\n                    Average WPM on custom category:{\" \"}\r\n                    <span>\r\n                      {customData.length >= 2\r\n                        ? Math.floor(\r\n                            customData.reduce((a, b): number =>\r\n                              Math.floor(a + b)\r\n                            ) / customData.length\r\n                          )\r\n                        : \"Unavailable\"}\r\n                    </span>\r\n                  </p>\r\n\r\n                  {randomData.length >= 2 && quotesData.length >= 2 ? (\r\n                    <>\r\n                      <Statistics\r\n                        labels={randomDataTime}\r\n                        wpm={randomData}\r\n                        title=\"WPM on Random Category\"\r\n                        lineColor=\"#5c17c4\"\r\n                        pointColor=\"#20e6b4\"\r\n                      />\r\n\r\n                      <Statistics\r\n                        labels={quotesDataTime}\r\n                        wpm={quotesData}\r\n                        title=\"WPM on Quotes Category\"\r\n                        lineColor=\"#226be0\"\r\n                        pointColor=\"#d91ccc\"\r\n                      />\r\n\r\n                      {customData.length >= 2 ? (\r\n                        <Statistics\r\n                          labels={customDataTime}\r\n                          wpm={customData}\r\n                          title=\"WPM on Custom Category\"\r\n                          lineColor=\"#5ce820\"\r\n                          pointColor=\"#e82077\"\r\n                        />\r\n                      ) : (\r\n                        <p style={{ marginTop: \"30px\" }}>\r\n                          This user didn't play enough in the \"custom\" category\r\n                          to unlock the statistics.\r\n                        </p>\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    <p className=\"restriction\">\r\n                      This user did not play enough to unlock the statistics.\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : status === \"\" ? (\r\n              <div className=\"userPageSpinnerTwo\"></div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <NotLogged />\r\n      )}\r\n      <div className=\"userPageSpinner\"></div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBPuJnN5gI3o_YZeVNlZwOky-7Y6LDGrTI\",\r\n  authDomain: \"justtype-preview.firebaseapp.com\",\r\n  projectId: \"justtype-preview\",\r\n  storageBucket: \"justtype-preview.appspot.com\",\r\n  messagingSenderId: \"648878251377\",\r\n  appId: \"1:648878251377:web:e42775dc14919b1475ead0\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst fire = firebase.initializeApp(firebaseConfig);\r\nexport const db = firebase.firestore();\r\n\r\nexport default fire;\r\n","import Helmet from \"react-helmet\";\r\n\r\nfunction Html(props: any) {\r\n  return (\r\n    <Helmet>\r\n      <title>{props.title}</title>\r\n      <style>\r\n        {`\r\n                 body {\r\n                    background-color: #0b101b;       \r\n                  }\r\n                `}\r\n      </style>\r\n    </Helmet>\r\n  );\r\n}\r\n\r\nexport default Html;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport \"../../style/css/main.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Firebase, { db } from \"../services/Firebase\";\r\nimport { HashLink } from \"react-router-hash-link\";\r\nimport UserContext from \"../services/UserContext\";\r\n\r\nfunction LoggedNav(props: any) {\r\n  // states\r\n  const [notifications, setNotifications] = useState<any>(\"\");\r\n\r\n  const userStatus = useContext(UserContext);\r\n  const { user, setUser, setUserData} = userStatus;\r\n\r\n  // ui stuff & checking if the user is logged in\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    Firebase.auth().onAuthStateChanged((usr: any) => {\r\n      if (usr) {\r\n        if (isMounted) {\r\n          setUser(usr);\r\n        }\r\n      }\r\n    });\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true; // fixing a bug\r\n    if (user) {\r\n      db.collection(\"notifications\")\r\n        .doc(\"global\")\r\n        .onSnapshot(\r\n          {\r\n            includeMetadataChanges: true,\r\n          },\r\n          (doc: any) => {\r\n            if (isMounted) {\r\n              setNotifications(doc.data().wrapper);\r\n            }\r\n          }\r\n        );\r\n    }\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [user]);\r\n\r\n  const history = useHistory();\r\n\r\n  let mobileStatus = false;\r\n\r\n  const handleMobile = () => {\r\n    mobileStatus = !mobileStatus;\r\n\r\n    let mobileNav = document.querySelector(\r\n      \".mobileNavLogged\"\r\n    ) as HTMLDivElement;\r\n    let effect = document.querySelector(\".effectLogged\") as HTMLDivElement;\r\n\r\n    if (mobileStatus) {\r\n      mobileNav.style.display = \"block\";\r\n      effect.style.opacity = \"0.5\";\r\n      effect.style.zIndex = \"999\";\r\n    } else {\r\n      mobileNav.style.display = \"none\";\r\n      effect.style.opacity = \"0\";\r\n      effect.style.zIndex = \"-2\";\r\n    }\r\n  };\r\n\r\n  const handleRemoveMobile = () => {\r\n    mobileStatus = false;\r\n\r\n    let mobileNav = document.querySelector(\r\n      \".mobileNavLogged\"\r\n    ) as HTMLDivElement;\r\n    let effect = document.querySelector(\".effectLogged\") as HTMLDivElement;\r\n\r\n    mobileNav.style.display = \"none\";\r\n    effect.style.opacity = \"0\";\r\n    effect.style.zIndex = \"-2\";\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    Firebase.auth().signOut();\r\n    setUserData(null);\r\n    setUser(null)\r\n    history.push(\"/sign-in\");\r\n  };\r\n\r\n  let notStatus = false;\r\n\r\n  const handleNotifications = () => {\r\n    notStatus = !notStatus;\r\n    let wrapper = document.querySelector(\r\n      \".notificationsWrapper\"\r\n    ) as HTMLDivElement;\r\n\r\n    if (notStatus) {\r\n      wrapper.style.zIndex = \"900\";\r\n      wrapper.style.opacity = \"1\";\r\n    } else {\r\n      wrapper.style.zIndex = \"-100\";\r\n      wrapper.style.opacity = \"0\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"effectLogged\" onClick={handleRemoveMobile}></div>\r\n\r\n      <div className=\"navbarLogged\">\r\n        <h1 className=\"logoNavLogged\">\r\n          <HashLink to=\"/\">\r\n           TypingHu<span></span>\r\n          </HashLink>\r\n        </h1>\r\n\r\n        <div className=\"navContent\">\r\n          <ul>\r\n            <Link to={props.path}>\r\n              <li>{props.name}</li>\r\n            </Link>\r\n          </ul>\r\n\r\n          <Link to=\"/profile\">\r\n            <img\r\n              src={\r\n                user\r\n                  ? user.photoURL\r\n                  : \"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348\"\r\n              }\r\n              className=\"profileImageMobile\"\r\n              alt=\"\"\r\n            />\r\n          </Link>\r\n\r\n          <div className=\"notifications\">\r\n            <div className=\"notificationBox\" onClick={handleNotifications}>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"44\"\r\n                height=\"44\"\r\n                viewBox=\"0 0 24 24\"\r\n                strokeWidth=\"1.5\"\r\n                stroke=\"#6f32be\"\r\n                fill=\"none\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n              >\r\n                <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                <path d=\"M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6\" />\r\n                <path d=\"M9 17v1a3 3 0 0 0 6 0v-1\" />\r\n              </svg>\r\n            </div>\r\n\r\n            <div className=\"notificationsWrapper\">\r\n              <h1>Notifications</h1>\r\n              {notifications ? \r\n                notifications.length >= 1 ? (\r\n                  notifications.map((x: any) => {\r\n                    return (\r\n                      <div className=\"notification\" key={x.id}>\r\n                        <p className=\"sender\">\r\n                          <span>from</span> {x.sender}\r\n                        </p>\r\n                        <p className=\"notificationMessage\">\r\n                          {x.message} <span> - {x.time}</span>\r\n                        </p>\r\n                      </div>\r\n                    );\r\n                  })\r\n                ) : <p className=\"zeroNotifications\">You have zero notifications!</p>\r\n              : (\r\n                <div className=\"notificationSpinner\"></div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <button className=\"navButtonLogged\" onClick={handleSignOut}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"44\"\r\n              height=\"44\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth=\"1.5\"\r\n              stroke=\"#6f32be\"\r\n              fill=\"none\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            >\r\n              <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n              <path d=\"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2\" />\r\n              <path d=\"M20 12h-13l3 -3m0 6l-3 -3\" />\r\n            </svg>\r\n            <p>Sign Out</p>\r\n          </button>\r\n\r\n          <div className=\"hamburgerLogged\" onClick={handleMobile}>\r\n            <div className=\"lineLogged  line1\"> </div>\r\n            <div className=\"lineLogged line2\"> </div>\r\n            <div className=\"lineLogged  line3\"> </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mobileNavLogged\">\r\n        <h1 className=\"logoNavMobileLogged\">\r\n          <HashLink to=\"/\">\r\n           TypingHu<span></span>\r\n          </HashLink>\r\n        </h1>\r\n\r\n        <div className=\"navContentMobile\">\r\n          <ul>\r\n            {props.play ? (\r\n              <a href={props.path}>{props.name}</a>\r\n            ) : (\r\n              <Link to={props.path}>\r\n                <li>{props.name}</li>\r\n              </Link>\r\n            )}\r\n          </ul>\r\n\r\n          <Link to=\"/profile\">\r\n            <img\r\n              src={\r\n                user\r\n                  ? user.photoURL\r\n                  : \"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348\"\r\n              }\r\n              className=\"profileImageMobile\"\r\n              alt=\"\"\r\n            />\r\n          </Link>\r\n\r\n          <button className=\"navButtonMobileLogged\" onClick={handleSignOut}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"44\"\r\n              height=\"44\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth=\"1.5\"\r\n              stroke=\"#6f32be\"\r\n              fill=\"none\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            >\r\n              <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n              <path d=\"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2\" />\r\n              <path d=\"M20 12h-13l3 -3m0 6l-3 -3\" />\r\n            </svg>\r\n            <p>Sign Out</p>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LoggedNav;\r\n","import React from \"react\";\r\nimport \"../../style/css/main.css\";\r\nimport { Link } from \"react-router-dom\";\r\nconst NotLogged = (props: any) => {\r\n  return (\r\n    <div className=\"notLoggedIn\">\r\n      <p>{props.adminRequest ? \"You need to be an admin to view this page\" : \"We are so sorry but you must be logged in to view this page\"}</p>\r\n      <div className=\"buttons\">\r\n        <Link to=\"/sign-in\">\r\n          <button>Sign In</button>\r\n        </Link>\r\n        <Link to=\"/sign-up\">\r\n          <button>Sign Up</button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotLogged;\r\n","export default __webpack_public_path__ + \"static/media/pro.3e24b768.jpg\";","export default __webpack_public_path__ + \"static/media/admin.85cda2f5.svg\";","import React from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\n\r\nfunction Statistics(props: any) {\r\n  return (\r\n    <div className=\"graphic\">\r\n      <Line\r\n        data={{\r\n          labels: props.labels,\r\n\r\n          datasets: [\r\n            {\r\n              label: props.title,\r\n              data: props.wpm,\r\n              backgroundColor: props.pointColor,\r\n              fill: false,\r\n              lineTension: 0,\r\n              borderColor: props.lineColor,\r\n              pointBorderColor: props.pointColor,\r\n            },\r\n          ],\r\n        }}\r\n        height={400}\r\n        width={1600}\r\n        options={{\r\n          maintainAspectRatio: false,\r\n          layout: {\r\n            padding: 5,\r\n          },\r\n          scales: {\r\n            xAxes: [\r\n              {\r\n                gridLines: {\r\n                  color: \"#111825\",\r\n                },\r\n                ticks: {\r\n                  display: false,\r\n                },\r\n              },\r\n            ],\r\n            yAxes: [\r\n              {\r\n                gridLines: {\r\n                  color: \"#111825\",\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Statistics;\r\n"],"sourceRoot":""}