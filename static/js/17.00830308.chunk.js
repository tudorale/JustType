(this.webpackJsonpjusttype=this.webpackJsonpjusttype||[]).push([[17],{246:function(e,t,n){"use strict";n.r(t);var r=n(9),c=n(0),u=(n(21),n(33)),i=n(34),o=n(1);t.default=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),l=Object(r.a)(a,2),d=l[0],b=l[1],p=Object(c.useState)("Delete account"),j=Object(r.a)(p,2),h=j[0],f=j[1],v=Object(c.useState)(""),O=Object(r.a)(v,2),y=O[0],g=O[1];return Object(c.useEffect)((function(){u.b.auth().signOut()}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)(i.a,{title:"JustType - Delete your account"}),Object(o.jsxs)("div",{className:"deleteYourAccount",children:[Object(o.jsx)("p",{children:"For security purposes you will need to re-enter your credentials to delete your account."}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=document.querySelector("#btn");null===t||void 0===t||t.setAttribute("disabled",""),f("Loading..."),u.b.auth().signInWithEmailAndPassword(n,d).then((function(){var e;u.a.collection("users").doc(null===(e=u.b.auth().currentUser)||void 0===e?void 0:e.uid).delete().then((function(){var e;u.b.storage().ref().child("users/"+(null===(e=u.b.auth().currentUser)||void 0===e?void 0:e.uid)).listAll().then((function(e){for(var t=e.items,n=0;n<t.length;n++)t[n].delete().then((function(){console.log("done")}))})).then((function(){var e;null===(e=u.b.auth().currentUser)||void 0===e||e.delete().then((function(){window.location.href="/sign-up"}))}))}))})).catch((function(e){f("Delete account"),g(e.message),null===t||void 0===t||t.removeAttribute("disabled")}))},children:[Object(o.jsx)("input",{type:"email",required:!0,placeholder:"Your email",onChange:function(e){return s(e.target.value)}}),Object(o.jsx)("input",{type:"password",required:!0,placeholder:"Your password",onChange:function(e){return b(e.target.value)}}),Object(o.jsx)("button",{id:"btn",children:h})]}),Object(o.jsx)("p",{style:{marginTop:"10px"},children:y})]})]})}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(38),c=(n(40),n(41),n(39),r.a.initializeApp({apiKey:"AIzaSyBPuJnN5gI3o_YZeVNlZwOky-7Y6LDGrTI",authDomain:"justtype-preview.firebaseapp.com",projectId:"justtype-preview",storageBucket:"justtype-preview.appspot.com",messagingSenderId:"648878251377",appId:"1:648878251377:web:e42775dc14919b1475ead0"})),u=r.a.firestore();t.b=c},34:function(e,t,n){"use strict";var r=n(36),c=n(1);t.a=function(e){return Object(c.jsxs)(r.b,{children:[Object(c.jsx)("title",{children:e.title}),Object(c.jsx)("style",{children:"\n                 body {\n                    background-color: #0e0b11;       \n                  }\n                "})]})}}}]);
//# sourceMappingURL=17.00830308.chunk.js.map