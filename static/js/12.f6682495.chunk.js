(this.webpackJsonptypinghub=this.webpackJsonptypinghub||[]).push([[12],{264:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n(0),o=(n(22),n(42)),i=n(35),s=n(15),r=n(36),l=n(43),d=n(16),u=n(1);t.default=function(){var e=Object(a.useContext)(d.b),t=(e.user,e.setUser),j=e.userData,b=e.setUserData,h=Object(a.useState)(0),p=Object(c.a)(h,2),f=p[0],g=p[1],O=Object(a.useState)(0),x=Object(c.a)(O,2),m=x[0],v=x[1],y=Object(a.useState)(0),w=Object(c.a)(y,2),N=w[0],S=w[1],k=Object(a.useState)([]),L=Object(c.a)(k,2),I=L[0],C=L[1],A=Object(a.useState)(""),M=Object(c.a)(A,2),z=M[0],T=M[1],q=Object(a.useState)(""),E=Object(c.a)(q,2),P=E[0],B=E[1],R=Object(a.useState)(""),H=Object(c.a)(R,2),U=H[0],D=H[1],W=Object(a.useState)(""),Y=Object(c.a)(W,2),Z=Y[0],J=Y[1];Object(a.useEffect)((function(){i.b.auth().onAuthStateChanged((function(e){var n=document.querySelector(".loadingSpinnerProfile"),c=document.querySelector(".notLoggedIn");e?(t(e),i.a.collection("users").doc(e.uid).get().then((function(e){b(e.data()),"admin"!==e.data().role?c.style.display="block":"admin"===e.data().role&&(i.a.collection("users").get().then((function(e){e.forEach((function(){g((function(e){return e+1}))}))})),i.a.collection("playzone").doc("review").onSnapshot({includeMetadataChanges:!0},(function(e){e&&(v(e.data().queue.length),C(e.data().queue))})),i.a.collection("playzone").doc("texts").onSnapshot({includeMetadataChanges:!0},(function(e){e&&S(e.data().wrapper.length)}))),n.style.display="none"})).catch((function(e){console.log("An error has occured:",e.message)}))):(c.style.display="block",n.style.display="none")}))}),[]);var F=n(34),V=new Date,Q=V.getHours(),G=V.getMinutes(),K=V.getSeconds(),X=V.getFullYear(),_=V.getMonth()+1,$=V.getDate();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(r.a,{title:"".concat(F.name," | Admin Panel")}),j&&"admin"===j.role?Object(u.jsxs)("div",{className:"panelWrapper",children:[Object(u.jsx)(o.a,{path:"/play",name:"Main Page"}),Object(u.jsxs)("div",{className:"panelContent",children:[Object(u.jsx)("h1",{children:"Admin Panel"}),Object(u.jsxs)("div",{className:"panelInfo",children:[Object(u.jsx)("h2",{children:"Informations"}),Object(u.jsxs)("p",{children:["TypingHub Accounts: ",Object(u.jsx)("span",{children:f})]}),Object(u.jsxs)("p",{children:["Play Zone reviews in Queue: ",Object(u.jsx)("span",{children:m})]}),Object(u.jsxs)("p",{children:["Play Zone texts: ",Object(u.jsx)("span",{children:N})]})]}),Object(u.jsxs)("div",{className:"panelReviews",children:[Object(u.jsx)("h2",{children:"Reviews in Queue"}),Object(u.jsx)("p",{children:z}),I?I.length>=1?I.map((function(e){return Object(u.jsxs)("div",{className:"text",children:[Object(u.jsxs)("p",{className:"author",children:["Created by ",Object(u.jsxs)(s.b,{to:"/user/".concat(e.author),children:[e.author," ",e.typingHubID]})]}),Object(u.jsx)("p",{className:"playingText",children:e.text}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)("button",{onClick:function(){return function(e){for(var t=function(t){if(I[t].id===e){var n=I[t];i.a.collection("playzone").doc("texts").get().then((function(e){var c=e.data().wrapper;c.push(n),i.a.collection("playzone").doc("texts").update({wrapper:c}).then((function(){I.splice(t),i.a.collection("playzone").doc("review").update({queue:I}).then((function(){T("Status: The text was added to the playzone and removed from review queue.")})).catch((function(){T("Status: An error occured, please refresh the page.")}))}))}))}},n=0;n<I.length;n++)t(n)}(e.id)},children:"Accept"}),Object(u.jsx)("button",{onClick:function(){return function(e){for(var t=0;t<I.length;t++)I[t].id===e&&(I.splice(t),i.a.collection("playzone").doc("review").update({queue:I}).then((function(){T("Status: The text was removed from the review queue.")})).catch((function(){T("Status: An error occured, please refresh the page.")})))}(e.id)},children:"Decline"})]}),Object(u.jsxs)("p",{className:"sendAt",children:["Sent at: ",e.time]})]},999*Math.random())})):Object(u.jsx)("p",{children:"No reviews in queue, good job"}):Object(u.jsx)("div",{className:"playZoneSpinner"})]}),Object(u.jsxs)("div",{className:"panelNotifications",children:[Object(u.jsx)("h2",{children:"Send a global notification"}),Object(u.jsx)("p",{children:Z}),Object(u.jsx)("input",{placeholder:"Text",id:"text",value:P,onChange:function(e){return B(e.target.value)}}),Object(u.jsx)("input",{placeholder:"Sender",id:"sender",value:U,onChange:function(e){return D(e.target.value)}}),Object(u.jsx)("button",{className:"sendButton",onClick:function(){var e={id:9999*Math.random(),message:P,sender:U,time:"".concat(Q,":").concat(G,":").concat(K," ").concat($,"/").concat(_,"/").concat(X)};i.a.collection("notifications").doc("global").get().then((function(t){var n=t.data().wrapper;n.push(e),i.a.collection("notifications").doc("global").update({wrapper:n}).then((function(){J("The notification was send to all the users."),B(""),D("")})).catch((function(){J("An error occured, refresh the page and try again.")}))}))},children:"Send notification"})]})]})]}):Object(u.jsx)(l.a,{adminRequest:!0}),Object(u.jsx)("div",{className:"loadingSpinnerProfile"})]})}},34:function(e){e.exports=JSON.parse('{"name":"TypingHub","profileURL":"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348"}')},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(40),a=(n(44),n(45),n(41),c.a.initializeApp({apiKey:"AIzaSyBPuJnN5gI3o_YZeVNlZwOky-7Y6LDGrTI",authDomain:"justtype-preview.firebaseapp.com",projectId:"justtype-preview",storageBucket:"justtype-preview.appspot.com",messagingSenderId:"648878251377",appId:"1:648878251377:web:e42775dc14919b1475ead0"})),o=c.a.firestore();t.b=a},36:function(e,t,n){"use strict";var c=n(38),a=n(1);t.a=function(e){return Object(a.jsxs)(c.b,{children:[Object(a.jsx)("title",{children:e.title}),Object(a.jsx)("style",{children:"\n                 body {\n                    background-color: #0b101b;       \n                  }\n                "})]})}},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var c=n(0),a=n.n(c),o=(n(9),n(15)),i=function(){return(i=Object.assign||function(e){for(var t,n=1,c=arguments.length;n<c;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var s="",r=null,l=null,d=null;function u(){s="",null!==r&&r.disconnect(),null!==l&&(window.clearTimeout(l),l=null)}function j(e){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(e.tagName)&&!e.hasAttribute("disabled")||["A","AREA"].includes(e.tagName)&&e.hasAttribute("href")}function b(){var e=null;if("#"===s)e=document.body;else{var t=s.replace("#","");null===(e=document.getElementById(t))&&"#top"===s&&(e=document.body)}if(null!==e){d(e);var n=e.getAttribute("tabindex");return null!==n||j(e)||e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),null!==n||j(e)||(e.blur(),e.removeAttribute("tabindex")),u(),!0}return!1}function h(e){return a.a.forwardRef((function(t,n){var c="";"string"===typeof t.to&&t.to.includes("#")?c="#"+t.to.split("#").slice(1).join("#"):"object"===typeof t.to&&"string"===typeof t.to.hash&&(c=t.to.hash);var j={};e===o.c&&(j.isActive=function(e,t){return e&&e.isExact&&t.hash===c});var h=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(e);a<c.length;a++)t.indexOf(c[a])<0&&Object.prototype.propertyIsEnumerable.call(e,c[a])&&(n[c[a]]=e[c[a]])}return n}(t,["scroll","smooth","timeout","elementId"]);return a.a.createElement(e,i({},j,h,{onClick:function(e){var n;u(),s=t.elementId?"#"+t.elementId:c,t.onClick&&t.onClick(e),""!==s&&(d=t.scroll||function(e){return t.smooth?e.scrollIntoView({behavior:"smooth"}):e.scrollIntoView()},n=t.timeout,window.setTimeout((function(){!1===b()&&(null===r&&(r=new MutationObserver(b)),r.observe(document,{attributes:!0,childList:!0,subtree:!0}),l=window.setTimeout((function(){u()}),n||1e4))}),0))},ref:n}),t.children)}))}var p=h(o.b);h(o.c)},42:function(e,t,n){"use strict";var c=n(8),a=n(0),o=(n(22),n(2)),i=n(15),s=n(35),r=n(37),l=n(16),d=n(1);t.a=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),u=n[0],j=n[1],b=Object(a.useContext)(l.b),h=b.user,p=b.setUser;Object(a.useEffect)((function(){var e=!0;return s.b.auth().onAuthStateChanged((function(t){t&&e&&p(t)})),function(){e=!1}}),[]),Object(a.useEffect)((function(){var e=!0;return h&&s.a.collection("notifications").doc("global").onSnapshot({includeMetadataChanges:!0},(function(t){e&&j(t.data().wrapper)})),function(){e=!1}}),[h]);var f=Object(o.f)(),g=!1,O=function(){s.b.auth().signOut(),f.push("/sign-in")},x=!1;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"effectLogged",onClick:function(){g=!1;var e=document.querySelector(".mobileNavLogged"),t=document.querySelector(".effectLogged");e.style.display="none",t.style.opacity="0",t.style.zIndex="-2"}}),Object(d.jsxs)("div",{className:"navbarLogged",children:[Object(d.jsx)("h1",{className:"logoNavLogged",children:Object(d.jsxs)(r.a,{to:"/",children:["TypingHu",Object(d.jsx)("span",{})]})}),Object(d.jsxs)("div",{className:"navContent",children:[Object(d.jsx)("ul",{children:Object(d.jsx)(i.b,{to:e.path,children:Object(d.jsx)("li",{children:e.name})})}),Object(d.jsx)(i.b,{to:"/profile",children:Object(d.jsx)("img",{src:h?h.photoURL:"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348",className:"profileImageMobile",alt:""})}),Object(d.jsxs)("div",{className:"notifications",children:[Object(d.jsx)("div",{className:"notificationBox",onClick:function(){x=!x;var e=document.querySelector(".notificationsWrapper");x?(e.style.zIndex="900",e.style.opacity="1"):(e.style.zIndex="-100",e.style.opacity="0")},children:Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#6f32be",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(d.jsx)("path",{d:"M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"}),Object(d.jsx)("path",{d:"M9 17v1a3 3 0 0 0 6 0v-1"})]})}),Object(d.jsxs)("div",{className:"notificationsWrapper",children:[Object(d.jsx)("h1",{children:"Notifications"}),u?u.length>=1?u.map((function(e){return Object(d.jsxs)("div",{className:"notification",children:[Object(d.jsxs)("p",{className:"sender",children:[Object(d.jsx)("span",{children:"from"})," ",e.sender]}),Object(d.jsxs)("p",{className:"notificationMessage",children:[e.message," ",Object(d.jsxs)("span",{children:[" - ",e.time]})]})]},e.id)})):Object(d.jsx)("p",{className:"zeroNotifications",children:"You have zero notifications!"}):Object(d.jsx)("div",{className:"notificationSpinner"})]})]}),Object(d.jsxs)("button",{className:"navButtonLogged",onClick:O,children:[Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#6f32be",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(d.jsx)("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),Object(d.jsx)("path",{d:"M20 12h-13l3 -3m0 6l-3 -3"})]}),Object(d.jsx)("p",{children:"Sign Out"})]}),Object(d.jsxs)("div",{className:"hamburgerLogged",onClick:function(){g=!g;var e=document.querySelector(".mobileNavLogged"),t=document.querySelector(".effectLogged");g?(e.style.display="block",t.style.opacity="0.5",t.style.zIndex="999"):(e.style.display="none",t.style.opacity="0",t.style.zIndex="-2")},children:[Object(d.jsx)("div",{className:"lineLogged  line1",children:" "}),Object(d.jsx)("div",{className:"lineLogged line2",children:" "}),Object(d.jsx)("div",{className:"lineLogged  line3",children:" "})]})]})]}),Object(d.jsxs)("div",{className:"mobileNavLogged",children:[Object(d.jsx)("h1",{className:"logoNavMobileLogged",children:Object(d.jsxs)(r.a,{to:"/",children:["TypingHu",Object(d.jsx)("span",{})]})}),Object(d.jsxs)("div",{className:"navContentMobile",children:[Object(d.jsx)("ul",{children:e.play?Object(d.jsx)("a",{href:e.path,children:e.name}):Object(d.jsx)(i.b,{to:e.path,children:Object(d.jsx)("li",{children:e.name})})}),Object(d.jsx)(i.b,{to:"/profile",children:Object(d.jsx)("img",{src:h?h.photoURL:"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348",className:"profileImageMobile",alt:""})}),Object(d.jsxs)("button",{className:"navButtonMobileLogged",onClick:O,children:[Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#6f32be",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(d.jsx)("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),Object(d.jsx)("path",{d:"M20 12h-13l3 -3m0 6l-3 -3"})]}),Object(d.jsx)("p",{children:"Sign Out"})]})]})]})]})}},43:function(e,t,n){"use strict";n(0),n(22);var c=n(15),a=n(1);t.a=function(e){return Object(a.jsxs)("div",{className:"notLoggedIn",children:[Object(a.jsx)("p",{children:e.adminRequest?"You need to be an admin to view this page":"We are so sorry but you must be logged in to view this page"}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)(c.b,{to:"/sign-in",children:Object(a.jsx)("button",{children:"Sign In"})}),Object(a.jsx)(c.b,{to:"/sign-up",children:Object(a.jsx)("button",{children:"Sign Up"})})]})]})}}}]);
//# sourceMappingURL=12.f6682495.chunk.js.map