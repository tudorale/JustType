{"version":3,"sources":["components/TestSpeed.tsx","components/services/Firebase.tsx","components/subComponents/Html.tsx","components/Navs/LoggedNav.tsx","components/subComponents/NotLogged.tsx"],"names":["TestSpeed","React","memo","props","HEADER","randomWords","require","axios","category","match","params","userStatus","useContext","UserContext","user","setUser","userData","setUserData","useState","countdown","setCountdown","timer","setTimer","userInput","setUserInput","symbols","setSymbols","wrongSymbols","setWrongSymbols","allSymbols","setAllSymbols","seconds","setSeconds","started","setStarted","finished","setFinished","wpm","setWpm","cpm","setCpm","displayPoints","setDisplayPoints","resultStatus","setResultStatus","randomTip","setRandomTip","quote","setQuote","tips","quoteData","setQuoteData","customText","setCustomText","customError","setCustomError","statusResult","setStatusResult","playZoneStatus","PlayZoneContext","playzone","playingText","setPlayzone","setPlayingText","randomPoints","min","max","Math","floor","random","useEffect","console","log","Firebase","auth","onAuthStateChanged","usr","mustLogged","document","querySelector","db","collection","doc","uid","get","then","data","exactly","join","res","content","catch","err","style","display","setTimeout","id","current","setInterval","s","useRef","idTimer","idSeconds","clearInterval","test","input","opacity","filter","removeAttribute","focus","time","clear","finishedRace","givenPoints","date","Date","h","getHours","getMinutes","y","getFullYear","m","getMonth","d","getDate","result","speedSection","blur","setAttribute","testOver","value","v","text","split","i","length","correctSymbols","round","checkWrongSymbols","update","points","randomTests","races","lastWPM","bestWPM","randomHistory","quotesTests","quotesHistory","customTests","customHistory","config","title","name","className","path","onChange","e","target","maxLength","minLength","onClick","textarea","btn","playZoneText","author","displayName","typingHubID","firestoreData","queue","map","push","letter","index","color","fontWeight","textDecoration","onPaste","preventDefault","onCopy","disabled","type","autoComplete","placeholder","rank","to","window","location","reload","marginTop","fire","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","Html","LoggedNav","notifications","setNotifications","isMounted","onSnapshot","includeMetadataChanges","wrapper","history","useHistory","mobileStatus","handleSignOut","signOut","notStatus","mobileNav","effect","zIndex","src","photoURL","alt","xmlns","width","height","viewBox","strokeWidth","stroke","fill","strokeLinecap","strokeLinejoin","x","sender","message","play","href","NotLogged","adminRequest"],"mappings":"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","file":"static/js/15.075b4094.chunk.js","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport NotLogged from \"./subComponents/NotLogged\";\r\nimport \"../style/css/main.css\";\r\nimport Nav from \"./Navs/LoggedNav\";\r\nimport Firebase, { db } from \"./services/Firebase\";\r\nimport { Link} from \"react-router-dom\";\r\nimport HTML from \"./subComponents/Html\";\r\nimport UserContext from \"./services/UserContext\";\r\nimport { HashLink } from \"react-router-hash-link\";\r\nimport {reviewText} from \"./subComponents/Interfaces\";\r\nimport PlayZoneContext from \"./services/PlayZoneContext\";\r\n\r\nconst TestSpeed = React.memo((props: any) => {\r\n  const randomWords = require(\"random-words\");\r\n  const axios = require(\"axios\");\r\n\r\n  const category = props.match.params.category;\r\n  let HEADER;\r\n\r\n  if (category === \"random\") {\r\n    HEADER = \"Random\"; // 20-40\r\n  } else if (category === \"quotes\") {\r\n    HEADER = \"Quotes\"; // 60-80\r\n  } else if (category === \"custom\") {\r\n    HEADER = \"Custom\"; // 20-40\r\n  }else {\r\n    HEADER = category;\r\n  }\r\n\r\n  const userStatus = useContext(UserContext);\r\n  const { user, setUser, userData, setUserData } = userStatus;\r\n\r\n  const [countdown, setCountdown] = useState<number | null>(null);\r\n  const [timer, setTimer] = useState<number>(60);\r\n  const [userInput, setUserInput] = useState<string>(\"\");\r\n\r\n  const [symbols, setSymbols] = useState<number>(0);\r\n  const [wrongSymbols, setWrongSymbols] = useState<number>(0);\r\n  const [allSymbols, setAllSymbols] = useState<number>(0);\r\n  const [seconds, setSeconds] = useState<number>(1);\r\n\r\n  const [started, setStarted] = useState<boolean>(false);\r\n  const [finished, setFinished] = useState<boolean>(false);\r\n  const [wpm, setWpm] = useState<number>(0);\r\n  const [cpm, setCpm] = useState<number>(0);\r\n  const [displayPoints, setDisplayPoints] = useState(0);\r\n  const [resultStatus, setResultStatus] = useState<string>(\r\n    \"Race finished, below you have your statistics.\"\r\n  );\r\n  const [randomTip, setRandomTip] = useState<string>(\"\");\r\n\r\n  const [quote, setQuote] = useState<string>(\"Loading...\");\r\n\r\n  const tips = [\r\n    \"You can use CTRL + Backspace (Win) to delete a whole word.\",\r\n    \"Try to type without looking at the keyboard, look at your screen, you will type faster!\",\r\n    \"Use your at least 7 fingers when you type, you will type faster.\",\r\n    \"Is better to type correctly and a bit slower than wrong and faster.\",\r\n    \"If you have to type an uppercase letter use SHIFT + key instead of CapsLock.\",\r\n    \"Maintain a good and a comfortable position of your body.\",\r\n    \"Place your hands on the home row of the keyboard, hand placement is important.\",\r\n    \"Stretch your hands, shoulders, your neck and don't be tired, you will type easier.\",\r\n    \"Scan the text in advance with one or two words.\",\r\n  ];\r\n\r\n  const [quoteData, setQuoteData] = useState<any>({});\r\n\r\n  const [customText, setCustomText] = useState(\"\");\r\n  const [customError, setCustomError] = useState(\"\");\r\n\r\n  const [statusResult, setStatusResult] = useState(\"\");\r\n\r\n  // get the text for playzone category from context\r\n  const playZoneStatus = useContext(PlayZoneContext);\r\n  const {playzone, playingText, setPlayzone, setPlayingText} = playZoneStatus;\r\n\r\n  function randomPoints(min: number, max: number) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(\"rerender\")\r\n    setRandomTip(tips[Math.floor(Math.random() * 9)]);\r\n\r\n    Firebase.auth().onAuthStateChanged((usr: any) => {\r\n      let mustLogged = document.querySelector(\".notLoggedIn\") as HTMLDivElement;\r\n\r\n      if (usr) {\r\n        setUser(usr);\r\n\r\n        db.collection(\"users\")\r\n          .doc(usr.uid)\r\n          .get()\r\n          .then((doc: any) => {\r\n            setUserData(doc.data());\r\n          })\r\n\r\n        if (category === \"random\") {\r\n          setQuote(randomWords({ exactly: randomPoints(20, 25), join: \" \" }));\r\n        }\r\n\r\n        if (category === \"quotes\") {\r\n          axios\r\n            .get(\"https://api.quotable.io/random\")\r\n            .then((res: any) => {\r\n              setQuote(res.data.content);\r\n              setQuoteData(res.data);\r\n            })\r\n            .catch((err: any) => {\r\n              console.log(\"An error has occured: \", err);\r\n            });\r\n        }\r\n\r\n        if (!started) {\r\n          if (category === \"custom\" && quote === \"Loading...\") {\r\n            setQuote(\"Waiting for text\");\r\n            let countdown = document.querySelector(\r\n              \".countdown\"\r\n            ) as HTMLHeadingElement;\r\n            countdown.style.display = \"none\";\r\n            \r\n            if(playzone){\r\n              setCustomText(playingText)\r\n              setQuote(playingText);\r\n\r\n              let countdown = document.querySelector(\".countdown\") as HTMLHeadingElement;\r\n              countdown.style.display = \"block\";\r\n              \r\n              setCountdown(5)\r\n\r\n              setTimeout(() => {\r\n                id.current = setInterval(() => {\r\n                  setCountdown((s: any) => s - 1);\r\n                }, 1000);\r\n              }, 500);\r\n            }\r\n\r\n          } else {\r\n            setCountdown(5)\r\n            id.current = setInterval(() => {\r\n              setCountdown((s: any) => s - 1);\r\n            }, 1000);\r\n          }\r\n        }\r\n\r\n      } else {\r\n        if (mustLogged) {\r\n          mustLogged.style.display = \"block\";\r\n        }\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      setPlayzone(false);\r\n      setPlayingText(\"\")\r\n    }\r\n  }, []);\r\n\r\n  // refs for timers\r\n  const id = React.useRef<any>();\r\n  const idTimer = React.useRef<any>();\r\n  const idSeconds = React.useRef<any>();\r\n\r\n  const clear = () => {\r\n    clearInterval(id.current);\r\n\r\n    if (quote !== \"Loading...\") {\r\n      let test = document.querySelector(\".testWrapper\") as HTMLDivElement;\r\n      let input = document.querySelector(\"#text\") as HTMLInputElement;\r\n      let countdown = document.querySelector(\".countdown\")! as HTMLHeadElement;\r\n\r\n      if (test) {\r\n        test.style.opacity = \"1\";\r\n        test.style.filter = \"blur(0px)\";\r\n      }\r\n      if (input) {\r\n        input.removeAttribute(\"disabled\");\r\n        input.focus();\r\n      }\r\n\r\n      if (countdown) {\r\n        countdown.style.display = \"none\";\r\n      }\r\n\r\n      idTimer.current = setInterval(() => {\r\n        setTimer((time) => time - 1);\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  const startTimer = () => {\r\n    idSeconds.current = setInterval(() => {\r\n      setSeconds((s) => s + 1);\r\n    }, 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (countdown === 0) {\r\n      clear();\r\n    }\r\n  }, [countdown]);\r\n\r\n  useEffect(() => {\r\n    if (timer === 0) {\r\n      // test finished.\r\n      finishedRace();\r\n      setResultStatus(\"Time's up, below you have your statistics\");\r\n    }\r\n  }, [timer]);\r\n\r\n  useEffect(() => {\r\n    if (started) {\r\n      startTimer();\r\n    }\r\n  }, [started]);\r\n\r\n  let givenPoints = 0;\r\n\r\n  let date = new Date();\r\n  let h = date.getHours();\r\n  let min = date.getMinutes();\r\n  let y = date.getFullYear();\r\n  let m = date.getMonth() + 1;\r\n  let d = date.getDate();\r\n\r\n  const categoryRandom = () => {\r\n    wpm < 30 ? (givenPoints = 5) : (givenPoints = randomPoints(20, 40));\r\n\r\n    setDisplayPoints(givenPoints);\r\n\r\n    if(Math.round((symbols / allSymbols) * 100) >= 70 && wpm >= 30){\r\n      db.collection(\"users\")\r\n      .doc(user.uid)\r\n      .update({\r\n        points: userData.points + givenPoints,\r\n        randomTests: userData.randomTests + 1,\r\n        races: userData.races + 1,\r\n        lastWPM: wpm,\r\n        bestWPM:\r\n            wpm > userData.bestWPM\r\n              ? wpm\r\n              : userData.bestWPM,\r\n        randomHistory:\r\n            [\r\n              ...userData.randomHistory,\r\n              { wpm: wpm, time: `${h}:${min} ${d}/${m}/${y}` },\r\n            ],\r\n      });\r\n    }else{\r\n      setStatusResult(\"You didn't have an accuracy over 70% and over 30 WPM to save the score\")\r\n    }\r\n  \r\n  };\r\n\r\n  const categoryQuotes = () => {\r\n    wpm < 50 ? (givenPoints = 5) : (givenPoints = randomPoints(50, 80));\r\n\r\n    setDisplayPoints(givenPoints);\r\n\r\n    if(Math.round((symbols / allSymbols) * 100) >= 70 && wpm >= 50){\r\n      db.collection(\"users\")\r\n      .doc(user.uid)\r\n      .update({\r\n        points: userData.points + givenPoints,\r\n        quotesTests: userData.quotesTests + 1,\r\n        races: userData.races + 1,\r\n        lastWPM: wpm,\r\n        bestWPM:\r\n             wpm > userData.bestWPM\r\n              ? wpm\r\n              : userData.bestWPM,\r\n        quotesHistory: [\r\n                ...userData.quotesHistory,\r\n                { wpm: wpm, time: `${h}:${min} ${d}/${m}/${y}` },\r\n              ],\r\n      });\r\n    }else{\r\n      setStatusResult(\"You didn't have an accuracy over 70% and over 50 WPM to save the score\")\r\n    }\r\n\r\n  };\r\n\r\n  const categoryCustom = () => {\r\n    wpm < 30 ? (givenPoints = 5) : (givenPoints = randomPoints(20, 40));\r\n\r\n    setDisplayPoints(givenPoints);\r\n\r\n    if(Math.round((symbols / allSymbols) * 100) >= 70 && wpm >= 30){\r\n      db.collection(\"users\")\r\n      .doc(user.uid)\r\n      .update({\r\n        points: userData.points + givenPoints,\r\n        customTests: userData.customTests + 1,\r\n        races: userData.races + 1,\r\n        lastWPM: wpm,\r\n        bestWPM:\r\n          wpm > userData.bestWPM\r\n              ? wpm\r\n              : userData.bestWPM,\r\n        customHistory: [\r\n                ...userData.customHistory,\r\n                { wpm: wpm, time: `${h}:${min} ${d}/${m}/${y}` },\r\n              ],\r\n      });\r\n    }else{\r\n      setStatusResult(\"You didn't have an accuracy over 70% and over 30 WPM to save the score\")\r\n    }\r\n   \r\n  };\r\n\r\n  const finishedRace = () => {\r\n    setFinished(true);\r\n\r\n    clearInterval(idSeconds.current);\r\n    clearInterval(idTimer.current);\r\n\r\n    let result = document.querySelector(\".result\") as HTMLDivElement;\r\n    let speedSection = document.querySelector(\r\n      \".neededWrapper\"\r\n    ) as HTMLDivElement;\r\n    let input = document.querySelector(\"#text\") as HTMLInputElement;\r\n\r\n    if (input) {\r\n      input.blur();\r\n      input.setAttribute(\"disabled\", \"\");\r\n      input.setAttribute(\"readonly\", \"\");\r\n      input.setAttribute(\"maxlength\", \"0\");\r\n    } else {\r\n      return null;\r\n    }\r\n\r\n    if (result && speedSection) {\r\n      result.style.display = \"block\";\r\n      speedSection.style.opacity = \"0.5\";\r\n      speedSection.style.filter = \"blur(2px)\";\r\n    }\r\n\r\n    let testOver = document.querySelector(\".testOver\") as HTMLDivElement;\r\n    if (testOver) {\r\n      testOver.style.display = \"block\";\r\n    }\r\n  };\r\n\r\n  const handleInput = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (!finished) {\r\n      setUserInput(e.target.value);\r\n      setAllSymbols((s) => s + 1);\r\n      setStarted(true);\r\n    }\r\n  };\r\n\r\n  const correctSymbols = (v: string) => {\r\n    const text = quote;\r\n    return v.split(\"\").filter((s: string, i: number) => s === text[i]).length;\r\n  };\r\n\r\n  const checkWrongSymbols = (v: string) => {\r\n    const text = quote;\r\n    return v.split(\"\").filter((s: string, i: number) => s !== text[i]).length;\r\n  };\r\n\r\n  let CORRECT_COLOR: string = \"#7e41da\";\r\n  let WRONG_COLOR: string = \"red\";\r\n\r\n  const isFinished = (value: string) => {\r\n    if (!finished) {\r\n      if (value.length === quote.length) {\r\n        finishedRace();\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSymbols(correctSymbols(userInput));\r\n    setWpm(Math.round(symbols / 5 / (seconds / 60)));\r\n    setCpm(Math.round((symbols / seconds) * 60));\r\n\r\n    setWrongSymbols(checkWrongSymbols(userInput));\r\n    isFinished(userInput);\r\n\r\n  }, [userInput]);\r\n\r\n  useEffect(() => {\r\n    if (finished) {\r\n      if (category === \"random\") {\r\n        categoryRandom();\r\n      } else if (category === \"quotes\") {\r\n        categoryQuotes();\r\n      } else if (category === \"custom\") {\r\n        categoryCustom();\r\n      }\r\n    }\r\n  }, [wpm, finished]);\r\n\r\n  const handleCustomText = () => {\r\n\r\n    let content = document.querySelector(\".customText\") as HTMLDivElement;\r\n    let textarea = document.querySelector(\"#custom\") as HTMLTextAreaElement;\r\n    let btn = document.querySelector(\"#btn\") as HTMLButtonElement;\r\n    let countdown = document.querySelector(\".countdown\") as HTMLHeadingElement;\r\n\r\n    const regEx = /^[a-zA-Z0-9\\.\\,\\;\\?\\'\\\"\\(\\)\\!\\$\\-\\& \\s]*$/;\r\n\r\n    if (customText.length >= 100 && customText.length <= 250) {\r\n      if (regEx.test(customText)) {\r\n\r\n        setQuote(customText);\r\n        btn.setAttribute(\"disabled\", \"\");\r\n        textarea.setAttribute(\"readonly\", \"\");\r\n        countdown.style.display = \"block\";\r\n        setCountdown(5)\r\n        content.style.display = \"none\";\r\n\r\n        setTimeout(() => {\r\n          id.current = setInterval(() => {\r\n            setCountdown((s: any) => s - 1);\r\n          }, 1000);\r\n        }, 500);\r\n      } else {\r\n        setCustomError(\r\n          \"You can only use lowercase, uppercase letters, numbers, punctuation and some symbols such as: () ? ! - $ & \"\r\n        );\r\n      }\r\n    } else {\r\n      setCustomError(\r\n        \"The text length must be at least 100 characters and max 250 characters.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  const newTest = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  const handlePlayZone = () => {\r\n  \r\n    const regEx = /^[a-zA-Z0-9\\.\\,\\;\\?\\'\\\"\\(\\)\\!\\$\\-\\& \\s]*$/;\r\n\r\n    if(userData.points >= 700){\r\n      if (customText.length >= 100 && customText.length <= 250) {\r\n        if (regEx.test(customText)) {\r\n\r\n          // add text to review\r\n          let playZoneText: reviewText = {\r\n            author: user?.displayName,\r\n            text: customText,\r\n            time: `${h}:${min} ${d}/${m}/${y}`,\r\n            id: user?.uid,\r\n            typingHubID: userData?.typingHubID,\r\n          };\r\n\r\n          // get the texts in queue\r\n          db.collection(\"playzone\")\r\n            .doc(\"review\")\r\n            .get()\r\n            .then((doc: any) => {\r\n              let firestoreData = doc.data().queue;\r\n\r\n              if(firestoreData.length >= 1){\r\n                firestoreData.map((data: reviewText) => {\r\n                  if(data.author === user?.displayName){\r\n                  setCustomError(\"You already sent a text for a review, you can not send another.\")\r\n                  }else{\r\n                    // update the queue with new text\r\n                    firestoreData.push(playZoneText)\r\n\r\n                    db.collection(\"playzone\")\r\n                    .doc(\"review\")\r\n                    .update({\r\n                      queue: firestoreData,\r\n                    })\r\n                    .then(() => {\r\n                      setCustomError(\"Your text was submitted for a review, if it is appropriate for the play zone, it will appear there.\")\r\n                    });\r\n                  }\r\n              })\r\n              }else{\r\n                // if empty queue\r\n                firestoreData.push(playZoneText)\r\n                db.collection(\"playzone\")\r\n                .doc(\"review\")\r\n                .update({\r\n                  queue: firestoreData,\r\n                })\r\n                .then(() => {\r\n                  setCustomError(\"Your text was submitted for a review, if it is appropriate for the play zone, it will appear there.\")\r\n                });\r\n              }\r\n              \r\n            });\r\n\r\n        } else {\r\n          setCustomError(\r\n            \"You can only use lowercase, uppercase letters, numbers, punctuation and some symbols such as: () ? ! - $ & \"\r\n          );\r\n        }\r\n      } else {\r\n        setCustomError(\r\n          \"The text length must be at least 100 characters and max 250 characters.\"\r\n        );\r\n      }\r\n    }else{\r\n      setCustomError(\"You need at least 700 points to add a text to the play zone.\")\r\n    }\r\n  }\r\n\r\n  const config = require(\"../config.json\")\r\n\r\n  return (\r\n    <>\r\n      <HTML title={`${config.name} | Test your speed`} />\r\n\r\n      {category === \"random\" ||\r\n      category === \"quotes\" ||\r\n      category === \"custom\"  ? (\r\n        <>\r\n          {userData && user ? (\r\n            <div className=\"testSpeedExtraWrapper\">\r\n              <Nav path=\"/play\" name=\"Main\" />\r\n              <div className=\"testSpeedWrapper\">\r\n                {category === \"custom\" && !playzone ? (\r\n                  <div className=\"customText\">\r\n                    <p>\r\n                      Enter your text below, make sure you follow the rules of\r\n                      characters; min = 100, max = 250.\r\n                    </p>\r\n                    <textarea\r\n                      onChange={(e) => {\r\n                        setCustomText(e.target.value);\r\n                        setCustomError(\"\");\r\n                      }}\r\n                      maxLength={250}\r\n                      minLength={150}\r\n                      value={customText}\r\n                      id=\"custom\"\r\n                    ></textarea>\r\n                    <button id=\"btn\" onClick={handleCustomText}>\r\n                      Go\r\n                    </button>\r\n                    <button id=\"playZone\" onClick={handlePlayZone}>\r\n                      Add to Play Zone\r\n                    </button>\r\n                    <p className=\"lengthText\">{customText.length}/250</p>\r\n                    <p>{customError}</p>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n\r\n                <h1 className=\"countdown\">{countdown}</h1>\r\n\r\n                <div className=\"testWrapper\">\r\n                  <div className=\"neededWrapper\">\r\n                    <div className=\"quote\">\r\n\r\n                    {quote.split(\"\").map((letter, index) => {\r\n\r\n                      let color;\r\n\r\n                      if (index < userInput.length) {\r\n                        color =\r\n                          letter === userInput[index]\r\n                            ? CORRECT_COLOR\r\n                            : WRONG_COLOR;\r\n\r\n                        if (letter === \" \") { // if user have to type a space and he is not doing it it will appear the key that he typed\r\n                          if (userInput[index] !== letter) {\r\n                            letter = userInput[index];\r\n                          }\r\n                        }\r\n                      }\r\n\r\n                      if (index === userInput.length) { // code for the current letter that user have to type\r\n                        return (\r\n                          <span\r\n                            key={index}\r\n                            className={\"letter\"}\r\n                            style={{\r\n                              color: color,\r\n                              fontWeight: 700,\r\n                              textDecoration: \"underline\",\r\n                            }}\r\n                          >\r\n                            {letter === \" \" ? \" \" : letter} {/* *** */}\r\n                          </span>\r\n                        );\r\n                      }\r\n\r\n                      return (\r\n                        <span\r\n                          key={index}\r\n                          className={\"letter\"}\r\n                          style={{ color: color }}\r\n                        >\r\n                          {letter === \" \" ? \" \" : letter}\r\n                        </span> // *** is weird isn't it? is not a normal space is &nbsp; using alt + 2 2 5 using that so it will appear as a space into the DOM\r\n                      );\r\n\r\n                    })}\r\n\r\n                    </div>\r\n\r\n                    <input\r\n                      onPaste={(e) => e.preventDefault()}\r\n                      onCopy={(e) => e.preventDefault()}\r\n                      id=\"text\"\r\n                      maxLength={quote.length}\r\n                      onChange={handleInput}\r\n                      disabled\r\n                      type=\"text\"\r\n                      autoComplete=\"off\"\r\n                      placeholder={\"Start typing the text above\"}\r\n                    />\r\n\r\n                    <div className=\"leftInfo\">\r\n                      <p className=\"category\">Category: {HEADER}</p>\r\n                      <p className=\"features\">\r\n                        {category == \"random\" && \"Random words\"}\r\n                        {category == \"quotes\" &&\r\n                          \"Lowercase, uppercase words, punctuation\"}\r\n                        {category == \"custom\" &&\r\n                          \"Allowed lowercase, uppercase words, punctuation, symbols\"}\r\n                      </p>\r\n                      <p className=\"account\">\r\n                        Account: {user ? user.displayName : \"Loading...\"},{\" \"}\r\n                        {userData ? userData.points : \"Loading\"} Points,{\" \"}\r\n                        {userData ? userData.rank : \"Loading...\"}\r\n                      </p>\r\n                    </div>\r\n\r\n                    <div className=\"rightInfo\">\r\n                      <p className=\"timeleft\">{timer}</p>\r\n                      <p className=\"abandon\">\r\n                        <Link to=\"/play\">Abandon</Link>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <p className=\"randomTip\">Random Tip: {randomTip}</p>\r\n\r\n                  <div className=\"testOver\">\r\n                    <p>This test is over.</p>\r\n                    <div className=\"testOverButtons\">\r\n                      <button onClick={newTest}>New test on {HEADER}</button>\r\n\r\n                      <Link to=\"/play\">\r\n                        <button className=\"homeButton\">Go home</button>\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"result\">\r\n                    <h1>{resultStatus}</h1>\r\n                    <p className=\"givenPoints\">\r\n                      <span>+{displayPoints}</span> points. Total points:{\" \"}\r\n                      <span>\r\n                        {userData ? userData.points : \"Calculating..\"}\r\n                      </span>\r\n                    </p>\r\n                    <p className=\"infoResult\">{statusResult}</p>\r\n                    <p className=\"infoResult\">\r\n                      {displayPoints === 5\r\n                        ? `You have to get over \r\n                          ${category === \"random\" ? \"30\" : \"\"}\r\n                          ${category === \"quotes\" ? \"50\" : \"\"}\r\n                          ${category === \"custom\" ? \"30\" : \"\"}\r\n                                                            \r\n                          WPM for this category to get the normal amount of points.`\r\n                        : null}\r\n                    </p>\r\n                    <p className=\"notAllowed\">\r\n                      {Math.round((symbols / allSymbols) * 100) < 70\r\n                        ? \"You have an accuracy that is less than 70%, your score will not be saved.\"\r\n                        : \"\"}\r\n                    </p>\r\n                    <p>\r\n                      Category of the test: <span>{HEADER}</span>\r\n                    </p>\r\n                    <p>\r\n                      WPM (Words Per Minute): <span>{!wpm ? \"0\" : wpm}</span>\r\n                    </p>\r\n                    <p>\r\n                      CPM (Characters Per Minute):{\" \"}\r\n                      <span>{!cpm ? \"0\" : cpm}</span>\r\n                    </p>\r\n                    <p>\r\n                      Text typed in: <span>{seconds} seconds</span>\r\n                    </p>\r\n                    <p>\r\n                      Time left: <span>{timer} seconds</span>\r\n                    </p>\r\n                    <p>\r\n                      Correct symbols: <span>{symbols}</span>\r\n                    </p>\r\n                    <p>\r\n                      Wrong symbols on text: <span>{wrongSymbols}</span>\r\n                    </p>\r\n                    <p>\r\n                      Accuracy:{\" \"}\r\n                      <span>\r\n                        {!Math.round((symbols / allSymbols) * 100)\r\n                          ? \"0\"\r\n                          : Math.round((symbols / allSymbols) * 100)}\r\n                        %\r\n                      </span>\r\n                    </p>\r\n                    <p>\r\n                      Total keystrokes: <span>{allSymbols}</span>\r\n                    </p>\r\n                    <p>\r\n                      Text length: <span>{quote.length}</span> characters\r\n                      (including spaces)\r\n                    </p>\r\n                    <p>\r\n                      Unnecessary keystrokes:{\" \"}\r\n                      <span>\r\n                        {allSymbols > quote.length\r\n                          ? allSymbols - quote.length\r\n                          : \"0\"}\r\n                      </span>\r\n                    </p>\r\n                    {category === \"quotes\" ? (\r\n                      <p>\r\n                        A quote from: <span>{quoteData.author}</span>\r\n                      </p>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <p style={{ marginTop: \"20px\" }}>\r\n                      <Link to=\"/info\">How we do it & Good to know</Link>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <NotLogged />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <p className=\"categoryNotExist\">\r\n          This category ({category}) does not exist, sorry!{\" \"}\r\n          <HashLink to=\"/play\">Play</HashLink>\r\n        </p>\r\n      )}\r\n    </>\r\n  );\r\n});\r\n\r\nexport default TestSpeed;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBPuJnN5gI3o_YZeVNlZwOky-7Y6LDGrTI\",\r\n  authDomain: \"justtype-preview.firebaseapp.com\",\r\n  projectId: \"justtype-preview\",\r\n  storageBucket: \"justtype-preview.appspot.com\",\r\n  messagingSenderId: \"648878251377\",\r\n  appId: \"1:648878251377:web:e42775dc14919b1475ead0\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst fire = firebase.initializeApp(firebaseConfig);\r\nexport const db = firebase.firestore();\r\n\r\nexport default fire;\r\n","import Helmet from \"react-helmet\";\r\n\r\nfunction Html(props: any) {\r\n  return (\r\n    <Helmet>\r\n      <title>{props.title}</title>\r\n      <style>\r\n        {`\r\n                 body {\r\n                    background-color: #0b101b;       \r\n                  }\r\n                `}\r\n      </style>\r\n    </Helmet>\r\n  );\r\n}\r\n\r\nexport default Html;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport \"../../style/css/main.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Firebase, { db } from \"../services/Firebase\";\r\nimport { HashLink } from \"react-router-hash-link\";\r\nimport UserContext from \"../services/UserContext\";\r\n\r\nfunction LoggedNav(props: any) {\r\n  // states\r\n  const [notifications, setNotifications] = useState<any>(\"\");\r\n\r\n  const userStatus = useContext(UserContext);\r\n  const { user, setUser, setUserData} = userStatus;\r\n\r\n  // ui stuff & checking if the user is logged in\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    Firebase.auth().onAuthStateChanged((usr: any) => {\r\n      if (usr) {\r\n        if (isMounted) {\r\n          setUser(usr);\r\n        }\r\n      }\r\n    });\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true; // fixing a bug\r\n    if (user) {\r\n      db.collection(\"notifications\")\r\n        .doc(\"global\")\r\n        .onSnapshot(\r\n          {\r\n            includeMetadataChanges: true,\r\n          },\r\n          (doc: any) => {\r\n            if (isMounted) {\r\n              setNotifications(doc.data().wrapper);\r\n            }\r\n          }\r\n        );\r\n    }\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [user]);\r\n\r\n  const history = useHistory();\r\n\r\n  let mobileStatus = false;\r\n\r\n  const handleMobile = () => {\r\n    mobileStatus = !mobileStatus;\r\n\r\n    let mobileNav = document.querySelector(\r\n      \".mobileNavLogged\"\r\n    ) as HTMLDivElement;\r\n    let effect = document.querySelector(\".effectLogged\") as HTMLDivElement;\r\n\r\n    if (mobileStatus) {\r\n      mobileNav.style.display = \"block\";\r\n      effect.style.opacity = \"0.5\";\r\n      effect.style.zIndex = \"999\";\r\n    } else {\r\n      mobileNav.style.display = \"none\";\r\n      effect.style.opacity = \"0\";\r\n      effect.style.zIndex = \"-2\";\r\n    }\r\n  };\r\n\r\n  const handleRemoveMobile = () => {\r\n    mobileStatus = false;\r\n\r\n    let mobileNav = document.querySelector(\r\n      \".mobileNavLogged\"\r\n    ) as HTMLDivElement;\r\n    let effect = document.querySelector(\".effectLogged\") as HTMLDivElement;\r\n\r\n    mobileNav.style.display = \"none\";\r\n    effect.style.opacity = \"0\";\r\n    effect.style.zIndex = \"-2\";\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    Firebase.auth().signOut();\r\n    setUserData(null);\r\n    setUser(null)\r\n    history.push(\"/sign-in\");\r\n  };\r\n\r\n  let notStatus = false;\r\n\r\n  const handleNotifications = () => {\r\n    notStatus = !notStatus;\r\n    let wrapper = document.querySelector(\r\n      \".notificationsWrapper\"\r\n    ) as HTMLDivElement;\r\n\r\n    if (notStatus) {\r\n      wrapper.style.zIndex = \"900\";\r\n      wrapper.style.opacity = \"1\";\r\n    } else {\r\n      wrapper.style.zIndex = \"-100\";\r\n      wrapper.style.opacity = \"0\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"effectLogged\" onClick={handleRemoveMobile}></div>\r\n\r\n      <div className=\"navbarLogged\">\r\n        <h1 className=\"logoNavLogged\">\r\n          <HashLink to=\"/\">\r\n           TypingHu<span></span>\r\n          </HashLink>\r\n        </h1>\r\n\r\n        <div className=\"navContent\">\r\n          <ul>\r\n            <Link to={props.path}>\r\n              <li>{props.name}</li>\r\n            </Link>\r\n          </ul>\r\n\r\n          <Link to=\"/profile\">\r\n            <img\r\n              src={\r\n                user\r\n                  ? user.photoURL\r\n                  : \"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348\"\r\n              }\r\n              className=\"profileImageMobile\"\r\n              alt=\"\"\r\n            />\r\n          </Link>\r\n\r\n          <div className=\"notifications\">\r\n            <div className=\"notificationBox\" onClick={handleNotifications}>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"44\"\r\n                height=\"44\"\r\n                viewBox=\"0 0 24 24\"\r\n                strokeWidth=\"1.5\"\r\n                stroke=\"#6f32be\"\r\n                fill=\"none\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n              >\r\n                <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                <path d=\"M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6\" />\r\n                <path d=\"M9 17v1a3 3 0 0 0 6 0v-1\" />\r\n              </svg>\r\n            </div>\r\n\r\n            <div className=\"notificationsWrapper\">\r\n              <h1>Notifications</h1>\r\n              {notifications ? \r\n                notifications.length >= 1 ? (\r\n                  notifications.map((x: any) => {\r\n                    return (\r\n                      <div className=\"notification\" key={x.id}>\r\n                        <p className=\"sender\">\r\n                          <span>from</span> {x.sender}\r\n                        </p>\r\n                        <p className=\"notificationMessage\">\r\n                          {x.message} <span> - {x.time}</span>\r\n                        </p>\r\n                      </div>\r\n                    );\r\n                  })\r\n                ) : <p className=\"zeroNotifications\">You have zero notifications!</p>\r\n              : (\r\n                <div className=\"notificationSpinner\"></div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <button className=\"navButtonLogged\" onClick={handleSignOut}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"44\"\r\n              height=\"44\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth=\"1.5\"\r\n              stroke=\"#6f32be\"\r\n              fill=\"none\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            >\r\n              <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n              <path d=\"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2\" />\r\n              <path d=\"M20 12h-13l3 -3m0 6l-3 -3\" />\r\n            </svg>\r\n            <p>Sign Out</p>\r\n          </button>\r\n\r\n          <div className=\"hamburgerLogged\" onClick={handleMobile}>\r\n            <div className=\"lineLogged  line1\"> </div>\r\n            <div className=\"lineLogged line2\"> </div>\r\n            <div className=\"lineLogged  line3\"> </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mobileNavLogged\">\r\n        <h1 className=\"logoNavMobileLogged\">\r\n          <HashLink to=\"/\">\r\n           TypingHu<span></span>\r\n          </HashLink>\r\n        </h1>\r\n\r\n        <div className=\"navContentMobile\">\r\n          <ul>\r\n            {props.play ? (\r\n              <a href={props.path}>{props.name}</a>\r\n            ) : (\r\n              <Link to={props.path}>\r\n                <li>{props.name}</li>\r\n              </Link>\r\n            )}\r\n          </ul>\r\n\r\n          <Link to=\"/profile\">\r\n            <img\r\n              src={\r\n                user\r\n                  ? user.photoURL\r\n                  : \"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348\"\r\n              }\r\n              className=\"profileImageMobile\"\r\n              alt=\"\"\r\n            />\r\n          </Link>\r\n\r\n          <button className=\"navButtonMobileLogged\" onClick={handleSignOut}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"44\"\r\n              height=\"44\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth=\"1.5\"\r\n              stroke=\"#6f32be\"\r\n              fill=\"none\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            >\r\n              <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n              <path d=\"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2\" />\r\n              <path d=\"M20 12h-13l3 -3m0 6l-3 -3\" />\r\n            </svg>\r\n            <p>Sign Out</p>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LoggedNav;\r\n","import React from \"react\";\r\nimport \"../../style/css/main.css\";\r\nimport { Link } from \"react-router-dom\";\r\nconst NotLogged = (props: any) => {\r\n  return (\r\n    <div className=\"notLoggedIn\">\r\n      <p>{props.adminRequest ? \"You need to be an admin to view this page\" : \"We are so sorry but you must be logged in to view this page\"}</p>\r\n      <div className=\"buttons\">\r\n        <Link to=\"/sign-in\">\r\n          <button>Sign In</button>\r\n        </Link>\r\n        <Link to=\"/sign-up\">\r\n          <button>Sign Up</button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotLogged;\r\n"],"sourceRoot":""}