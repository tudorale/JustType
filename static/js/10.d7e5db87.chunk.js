(this.webpackJsonptypinghub=this.webpackJsonptypinghub||[]).push([[10],{256:function(e,t,n){"use strict";n.r(t);var s=n(9),a=n(0),c=(n(21),n(43)),o=n(34),i=n(44),r=n(35),l=n(2),u=n(16),d=n(1);t.default=function(){var e=Object(a.useContext)(u.b),t=e.user,j=e.setUser,p=e.userData,b=e.setUserData,h=Object(a.useState)(""),m=Object(s.a)(h,2),g=m[0],f=m[1],O=Object(a.useState)(""),y=Object(s.a)(O,2),x=y[0],v=y[1],w=Object(a.useState)(""),S=Object(s.a)(w,2),N=S[0],k=S[1],L=Object(a.useState)(""),C=Object(s.a)(L,2),I=C[0],T=C[1],U=Object(a.useState)(""),A=Object(s.a)(U,2),E=A[0],B=A[1],M=Object(a.useState)(""),q=Object(s.a)(M,2),Y=q[0],z=q[1],P=Object(a.useState)(""),R=Object(s.a)(P,2),W=R[0],D=R[1],F=Object(a.useState)(""),H=Object(s.a)(F,2),Z=H[0],J=H[1],V=Object(a.useState)(""),K=Object(s.a)(V,2),Q=K[0],_=K[1],G=Object(a.useState)(""),X=Object(s.a)(G,2),$=X[0],ee=X[1],te=Object(a.useState)(""),ne=Object(s.a)(te,2),se=ne[0],ae=ne[1];Object(a.useEffect)((function(){o.b.auth().onAuthStateChanged((function(e){if(e){j(e);var t=document.querySelector(".accountSettingsWrapper");document.querySelector(".networkSpinner").style.display="none",t.style.display="block",o.a.collection("users").doc(e.uid).onSnapshot({includeMetadataChanges:!0},(function(e){b(e.data())}))}else{var n=document.querySelector(".notLoggedIn");document.querySelector(".networkSpinner").style.display="none",n.style.display="block"}}))}),[]);var ce=function(e,t,n,s,a){var c=document.querySelector(e),o=document.querySelector(t);c.style.height="".concat(s,"px"),o.style.top="".concat(n,"px"),o.style.fontSize="".concat(a,"rem")},oe=function(e,t,n){var s=document.querySelector(e),a=document.querySelector(t);""===n&&(s.style.height="40px",a.style.top="30px",a.style.fontSize="1rem")},ie=o.b.auth().currentUser,re=[],le=Object(l.f)(),ue=n(33);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(r.a,{title:"".concat(ue.name," | Account settings")}),Object(d.jsx)("div",{className:"networkSpinner"}),Object(d.jsxs)("div",{className:"accountSettingsWrapper",children:[Object(d.jsx)(c.a,{path:"/play",name:"Main"}),Object(d.jsxs)("div",{className:"subWrapper",children:[Object(d.jsx)("h1",{children:"Your account"}),Object(d.jsxs)("p",{children:["Username: ",Object(d.jsx)("span",{children:t?t.displayName:"Loading..."})]}),Object(d.jsxs)("p",{children:["Keyboard layout:"," ",Object(d.jsx)("span",{children:p?p.keyboardLayout:"Loading..."})]}),Object(d.jsxs)("p",{children:["Email: ",Object(d.jsx)("span",{children:t?t.email:"Loading..."})]}),Object(d.jsxs)("p",{children:["Created on:"," ",Object(d.jsx)("span",{children:t?t.metadata.creationTime:"Loading..."})]}),Object(d.jsxs)("p",{children:["Last login:"," ",Object(d.jsx)("span",{children:t?t.metadata.lastSignInTime:"Loading..."})]}),Object(d.jsxs)("div",{className:"profilePicture",children:[Object(d.jsx)("p",{children:"Profile Image"}),Object(d.jsx)("img",{src:t?null===t||void 0===t?void 0:t.photoURL:"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348",className:"profileImageSettings"}),Object(d.jsx)("p",{children:"Change your profile image(best size: 150x150)"}),Object(d.jsx)("input",{type:"file",className:"image",onChange:function(e){var t=e.target.files[0];ee(t),D("")}}),Object(d.jsx)("p",{className:"status",children:W}),Object(d.jsx)("button",{onClick:function(){return function(){if(""!==$)if(D("Checking your image..."),$.size<=5242880)if($.type.startsWith("image/")){var e=o.b.storage().ref("users/"+"".concat(null===ie||void 0===ie?void 0:ie.uid,"/")+"".concat($.name)),t=o.b.storage().ref().child("users/"+(null===ie||void 0===ie?void 0:ie.uid));e.put($).then((function(){D("Uploading..."),e.getDownloadURL().then((function(e){var t=e;o.a.collection("users").doc(null===ie||void 0===ie?void 0:ie.uid).update({profileImage:e}),null===ie||void 0===ie||ie.updateProfile({photoURL:t}).then((function(){ee(""),D("Your profile image was changed. It might take a few seconds to update.")}))})),t.listAll().then((function(e){for(var t=e.items,n=0;n<t.length;n++)t[n].name!==$.name&&t[n].delete().then((function(){console.log("done")}))}))}))}else D("That file is not a image for sure, please upload an image.");else D("The image must be less than 5MB");else D("Select an image")}()},children:"Change image"})]}),Object(d.jsx)("p",{className:"description",children:"Your description"}),Object(d.jsx)("label",{htmlFor:"description",className:"dLabel",children:"Set description"}),Object(d.jsx)("textarea",{id:"description",onChange:function(e){J(e.target.value),_("")},maxLength:250,onFocus:function(){return function(e,t,n,s){var a=document.querySelector(t);a.style.marginTop="".concat(n,"px"),a.style.fontSize="".concat(s,"rem")}(0,".dLabel","15","0.9")},onBlur:function(){return function(e,t,n){var s=document.querySelector(e);""===n&&(s.style.marginTop="".concat(t),s.style.fontSize="1rem")}(".dLabel","20",Z)}}),Object(d.jsx)("p",{style:{marginTop:"10px",marginBottom:"10px"},className:"status",children:Q}),Object(d.jsx)("div",{className:"descriptionSpinner"}),Object(d.jsx)("button",{className:"usernameButton",onClick:function(){if(""!==Z){var e=document.querySelector(".descriptionSpinner");e.style.display="block",Z.length<=250?o.a.collection("users").doc(null===ie||void 0===ie?void 0:ie.uid).update({description:Z}).then((function(){e.style.display="none",_("Your description has been changed")})).catch((function(t){e.style.display="none",_(t.message)})):_("Your description must be less than 250 characters")}else _("Your description can not be blank.")},children:"Change description"}),Object(d.jsx)("p",{children:"Set your keyboard layout"}),Object(d.jsxs)("select",{name:"layouts",onChange:function(e){ae("Setting your layout..."),o.a.collection("users").doc(null===ie||void 0===ie?void 0:ie.uid).update({keyboardLayout:e.target.value}).then((function(){ae("Done")})).catch((function(e){ae(e.message)}))},children:[Object(d.jsx)("option",{children:"Not set"}),Object(d.jsx)("option",{value:"QWERTY",children:"QWERTY"}),Object(d.jsx)("option",{value:"Dvorak",children:"Dvorak"}),Object(d.jsx)("option",{value:"AZERTY",children:"AZERTY"}),Object(d.jsx)("option",{value:"Colemak",children:"Colemak"}),Object(d.jsx)("option",{value:"Workman",children:"Workman"}),Object(d.jsx)("option",{value:"Neo",children:"Neo"}),Object(d.jsx)("option",{value:"B\xc9PO",children:"B\xc9PO"}),Object(d.jsx)("option",{value:"Other layout",children:"Other layout"}),Object(d.jsx)("option",{value:"Custom layout",children:"Custom layout"})]}),Object(d.jsx)("p",{style:{marginTop:"15px",marginBottom:"10px"},className:"status",children:se}),Object(d.jsx)("h1",{className:"asHeader",children:"Account settings"}),Object(d.jsxs)("div",{className:"settingsContent",children:[Object(d.jsx)("div",{className:"newUsername",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=document.querySelector(".loadingSpinner"),s=/^[a-zA-Z0-9 _\s]*$/;p.changedUsername?(p.pro||v("You can not change your username, you already did that."),p.pro&&(s.test(g)?g.length>=4&&g.length<=20?(n.style.display="block",o.a.collection("users").get().then((function(e){e.forEach((function(e){re.push(e.data().username)}))})).then((function(){re.includes(g)?(v("This username is already in use."),n.style.display="none"):(null===ie||void 0===ie||ie.updateProfile({displayName:g}).then((function(){n.style.display="none",v("Your username has been changed.")})).catch((function(e){n.style.display="none",v(e.message)})),o.a.collection("users").doc(t.uid).update({username:g}))}))):v("Your username must be more than 4 characters and less than 20 characters."):v("Invalid username, use only letters, numbers and underscores"))):(n.style.display="block",s.test(g)?g.length>=4&&g.length<=20?o.a.collection("users").get().then((function(e){e.forEach((function(e){re.push(e.data().username)}))})).then((function(){re.includes(g)?(v("This username is already in use."),n.style.display="none"):(null===ie||void 0===ie||ie.updateProfile({displayName:g}).then((function(){n.style.display="none",v("Your username has been changed.")})).then((function(){o.a.collection("users").doc(null===ie||void 0===ie?void 0:ie.uid).update({changedUsername:!0})})).catch((function(e){n.style.display="none",v(e.message)})),o.a.collection("users").doc(t.uid).update({username:g}))})):v("Your username must be more than 4 characters and less than 20 characters."):v("Invalid username, use only letters, numbers and underscores"))},children:[Object(d.jsxs)("p",{children:["Change username"," ",p?p.pro?"(Unlimited)":p.changedUsername?"(Used)":"(1 time)":""]}),Object(d.jsx)("label",{htmlFor:"username",className:"newUserL",children:"New username"}),Object(d.jsx)("input",{id:"username",type:"text",onChange:function(e){f(e.target.value),v("")},maxLength:20,minLength:4,onFocus:function(){return ce("#username",".newUserL","23","55","0.9")},onBlur:function(){return oe("#username",".newUserL",g)}}),Object(d.jsx)("p",{style:{marginTop:"10px",paddingRight:"20px"},className:"status",children:x}),Object(d.jsx)("button",{children:"Change username"}),Object(d.jsx)("div",{className:"loadingSpinner usernameSpinner"})]})}),Object(d.jsx)("div",{className:"newEmail",children:Object(d.jsxs)("form",{onSubmit:function(e){var t=document.querySelector(".emailSpinner");t.style.display="block",e.preventDefault(),null===ie||void 0===ie||ie.updateEmail(N).then((function(){t.style.display="none",T("Your email has been changed.")})).catch((function(e){t.style.display="none",T(e.message)}))},children:[Object(d.jsx)("p",{children:"Change email"}),Object(d.jsx)("label",{htmlFor:"email",className:"newemailL",children:"Valid email"}),Object(d.jsx)("input",{id:"email",type:"email",onChange:function(e){k(e.target.value),T("")},onFocus:function(){return ce("#email",".newemailL","23","55","0.9")},onBlur:function(){return oe("#email",".newemailL",N)}}),Object(d.jsx)("p",{style:{marginTop:"10px",paddingRight:"20px"},className:"status",children:I}),Object(d.jsx)("button",{type:"submit",children:"Change email"}),Object(d.jsx)("div",{className:"loadingSpinner emailSpinner"})]})}),Object(d.jsx)("div",{className:"newPassword",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=document.querySelector(".passwordSpinner");t.style.display="block",null===ie||void 0===ie||ie.updatePassword(E).then((function(){t.style.display="none",z("Your password has been changed.")})).catch((function(e){t.style.display="none",z(e.message)}))},children:[Object(d.jsx)("p",{children:"Change password"}),Object(d.jsx)("label",{htmlFor:"password",className:"newpasswordL",children:"Password"}),Object(d.jsx)("input",{id:"password",type:"password",onChange:function(e){B(e.target.value),z("")},onFocus:function(){return ce("#password",".newpasswordL","23","55","0.9")},onBlur:function(){return oe("#password",".newpasswordL",E)}}),Object(d.jsx)("p",{style:{marginTop:"10px",paddingRight:"20px"},className:"status",children:Y}),Object(d.jsx)("button",{type:"submit",children:"Change password"}),Object(d.jsx)("div",{className:"loadingSpinner passwordSpinner"})]})}),Object(d.jsxs)("div",{className:"deleteAccount",children:[Object(d.jsxs)("p",{children:["If you want to delete your ",ue.name," account press the button below, by pressing that button you will be redirected to a special page, from that page you will delete your account and your data will be deleted from our databse, if you want to play again and use our website you need to make a new account."]}),Object(d.jsx)("p",{children:"For every option from above you need to be 'fresh' logged in, if you are not you will see an error and you have to log in again."}),Object(d.jsx)("button",{onClick:function(){le.push("/delete-account")},children:"Delete account"})]})]})]})]}),Object(d.jsx)(i.a,{})]})}},33:function(e){e.exports=JSON.parse('{"name":"TypingHub"}')},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(39),a=(n(41),n(42),n(40),s.a.initializeApp({apiKey:"AIzaSyBPuJnN5gI3o_YZeVNlZwOky-7Y6LDGrTI",authDomain:"justtype-preview.firebaseapp.com",projectId:"justtype-preview",storageBucket:"justtype-preview.appspot.com",messagingSenderId:"648878251377",appId:"1:648878251377:web:e42775dc14919b1475ead0"})),c=s.a.firestore();t.b=a},35:function(e,t,n){"use strict";var s=n(37),a=n(1);t.a=function(e){return Object(a.jsxs)(s.b,{children:[Object(a.jsx)("title",{children:e.title}),Object(a.jsx)("style",{children:"\n                 body {\n                    background-color: #0b101b;       \n                  }\n                "})]})}},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var s=n(0),a=n.n(s),c=(n(8),n(15)),o=function(){return(o=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var i="",r=null,l=null,u=null;function d(){i="",null!==r&&r.disconnect(),null!==l&&(window.clearTimeout(l),l=null)}function j(e){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(e.tagName)&&!e.hasAttribute("disabled")||["A","AREA"].includes(e.tagName)&&e.hasAttribute("href")}function p(){var e=null;if("#"===i)e=document.body;else{var t=i.replace("#","");null===(e=document.getElementById(t))&&"#top"===i&&(e=document.body)}if(null!==e){u(e);var n=e.getAttribute("tabindex");return null!==n||j(e)||e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),null!==n||j(e)||(e.blur(),e.removeAttribute("tabindex")),d(),!0}return!1}function b(e){return a.a.forwardRef((function(t,n){var s="";"string"===typeof t.to&&t.to.includes("#")?s="#"+t.to.split("#").slice(1).join("#"):"object"===typeof t.to&&"string"===typeof t.to.hash&&(s=t.to.hash);var j={};e===c.c&&(j.isActive=function(e,t){return e&&e.isExact&&t.hash===s});var b=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]])}return n}(t,["scroll","smooth","timeout","elementId"]);return a.a.createElement(e,o({},j,b,{onClick:function(e){var n;d(),i=t.elementId?"#"+t.elementId:s,t.onClick&&t.onClick(e),""!==i&&(u=t.scroll||function(e){return t.smooth?e.scrollIntoView({behavior:"smooth"}):e.scrollIntoView()},n=t.timeout,window.setTimeout((function(){!1===p()&&(null===r&&(r=new MutationObserver(p)),r.observe(document,{attributes:!0,childList:!0,subtree:!0}),l=window.setTimeout((function(){d()}),n||1e4))}),0))},ref:n}),t.children)}))}var h=b(c.b);b(c.c)},43:function(e,t,n){"use strict";var s=n(9),a=n(0),c=(n(21),n(2)),o=n(15),i=n(34),r=n(36),l=n(16),u=n(1);t.a=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),d=n[0],j=n[1],p=Object(a.useContext)(l.b),b=p.user,h=p.setUser;Object(a.useEffect)((function(){var e=!0;return i.b.auth().onAuthStateChanged((function(t){t&&e&&h(t)})),function(){e=!1}}),[]),Object(a.useEffect)((function(){var e=!0;return b&&i.a.collection("users").doc(null===b||void 0===b?void 0:b.uid).onSnapshot({includeMetadataChanges:!0},(function(t){e&&j(t.data().notifications)})),function(){e=!1}}),[b]);var m=Object(c.f)(),g=!1,f=function(){i.b.auth().signOut(),m.push("/sign-in")},O=!1;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"effectLogged",onClick:function(){g=!1;var e=document.querySelector(".mobileNavLogged"),t=document.querySelector(".effectLogged");e.style.display="none",t.style.opacity="0",t.style.zIndex="-2"}}),Object(u.jsxs)("div",{className:"navbarLogged",children:[Object(u.jsx)("h1",{className:"logoNavLogged",children:Object(u.jsxs)(r.a,{to:"/",children:["TypingHu",Object(u.jsx)("span",{})]})}),Object(u.jsxs)("div",{className:"navContent",children:[Object(u.jsx)("ul",{children:Object(u.jsx)(o.b,{to:e.path,children:Object(u.jsx)("li",{children:e.name})})}),Object(u.jsx)(o.b,{to:"/profile",children:Object(u.jsx)("img",{src:b?b.photoURL:"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348",className:"profileImageMobile",alt:""})}),Object(u.jsxs)("div",{className:"notifications",children:[Object(u.jsx)("div",{className:"notificationBox",onClick:function(){O=!O;var e=document.querySelector(".notificationsWrapper");O?(e.style.zIndex="900",e.style.opacity="1"):(e.style.zIndex="-100",e.style.opacity="0")},children:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#6f32be",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(u.jsx)("path",{d:"M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"}),Object(u.jsx)("path",{d:"M9 17v1a3 3 0 0 0 6 0v-1"})]})}),Object(u.jsxs)("div",{className:"notificationsWrapper",children:[Object(u.jsx)("h1",{children:"Notifications"}),d?d.map((function(e){return Object(u.jsxs)("div",{className:"notification",children:[Object(u.jsxs)("p",{className:"sender",children:[Object(u.jsx)("span",{children:"from"})," ",e.sender]}),Object(u.jsxs)("p",{className:"notificationMessage",children:[e.message," ",Object(u.jsxs)("span",{children:[" - ",e.time]})]})]},e.id)})):Object(u.jsx)("div",{className:"notificationSpinner"})]})]}),Object(u.jsxs)("button",{className:"navButtonLogged",onClick:f,children:[Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#6f32be",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(u.jsx)("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),Object(u.jsx)("path",{d:"M20 12h-13l3 -3m0 6l-3 -3"})]}),Object(u.jsx)("p",{children:"Sign Out"})]}),Object(u.jsxs)("div",{className:"hamburgerLogged",onClick:function(){g=!g;var e=document.querySelector(".mobileNavLogged"),t=document.querySelector(".effectLogged");g?(e.style.display="block",t.style.opacity="0.5",t.style.zIndex="999"):(e.style.display="none",t.style.opacity="0",t.style.zIndex="-2")},children:[Object(u.jsx)("div",{className:"lineLogged  line1",children:" "}),Object(u.jsx)("div",{className:"lineLogged line2",children:" "}),Object(u.jsx)("div",{className:"lineLogged  line3",children:" "})]})]})]}),Object(u.jsxs)("div",{className:"mobileNavLogged",children:[Object(u.jsx)("h1",{className:"logoNavMobileLogged",children:Object(u.jsxs)(r.a,{to:"/",children:["TypingHu",Object(u.jsx)("span",{})]})}),Object(u.jsxs)("div",{className:"navContentMobile",children:[Object(u.jsx)("ul",{children:e.play?Object(u.jsx)("a",{href:e.path,children:e.name}):Object(u.jsx)(o.b,{to:e.path,children:Object(u.jsx)("li",{children:e.name})})}),Object(u.jsx)(o.b,{to:"/profile",children:Object(u.jsx)("img",{src:b?b.photoURL:"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348",className:"profileImageMobile",alt:""})}),Object(u.jsxs)("button",{className:"navButtonMobileLogged",onClick:f,children:[Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#6f32be",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(u.jsx)("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),Object(u.jsx)("path",{d:"M20 12h-13l3 -3m0 6l-3 -3"})]}),Object(u.jsx)("p",{children:"Sign Out"})]})]})]})]})}},44:function(e,t,n){"use strict";n(0),n(21);var s=n(15),a=n(1);t.a=function(){return Object(a.jsxs)("div",{className:"notLoggedIn",children:[Object(a.jsx)("p",{children:"We are so sorry but you must be logged in to view this page"}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)(s.b,{to:"/sign-in",children:Object(a.jsx)("button",{children:"Sign In"})}),Object(a.jsx)(s.b,{to:"/sign-up",children:Object(a.jsx)("button",{children:"Sign Up"})})]})]})}}}]);
//# sourceMappingURL=10.d7e5db87.chunk.js.map