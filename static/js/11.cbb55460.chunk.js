(this.webpackJsonptypinghub=this.webpackJsonptypinghub||[]).push([[11],{260:function(e,t,s){"use strict";s.r(t);var n=s(8),c=s(0),a=(s(22),s(42)),i=s(35),o=s(48),r=s(43),l=s(36),j=s(69),d=s(16),b=s(100),u=s.n(b),h=s(53),p=s(1);t.default=function(e){var t=s(34),b=e.match.params.username,g=Object(c.useState)(""),m=Object(n.a)(g,2),O=m[0],x=m[1],f=Object(c.useState)(!1),v=Object(n.a)(f,2),y=v[0],N=v[1],w=Object(c.useContext)(d.b),k=w.user,M=w.setUser,L=w.userData,S=w.setUserData,C=Object(c.useState)([]),P=Object(n.a)(C,2),I=P[0],T=P[1],W=Object(c.useState)([]),H=Object(n.a)(W,2),q=H[0],A=H[1],U=Object(c.useState)([]),z=Object(n.a)(U,2),D=z[0],B=z[1],R=Object(c.useState)([]),E=Object(n.a)(R,2),Y=E[0],F=E[1],J=Object(c.useState)([]),G=Object(n.a)(J,2),K=G[0],Z=G[1],Q=Object(c.useState)([]),V=Object(n.a)(Q,2),_=V[0],X=V[1],$=[];return Object(c.useEffect)((function(){var e=document.querySelector(".userPageSpinner"),t=document.querySelector(".notLoggedIn");return N(!1),i.b.auth().onAuthStateChanged((function(s){s?(M(s),e.style.display="none",i.a.collection("users").get().then((function(e){e.forEach((function(e){$.push(e.data().username)}))})).then((function(){$.includes(b)?i.a.collection("users").where("username","==",b).get().then((function(e){N(!0),e.forEach((function(e){S(e.data()),x(""),T(e.data().randomHistory.map((function(e){return e.wpm}))),A(e.data().quotesHistory.map((function(e){return e.wpm}))),B(e.data().customHistory.map((function(e){return e.wpm}))),F(e.data().randomHistory.map((function(e){return e.time}))),Z(e.data().quotesHistory.map((function(e){return e.time}))),X(e.data().customHistory.map((function(e){return e.time})))}))})):x("This user does not exist or his/her account might have been deleted or the username was changed.")}))):(t.style.display="block",e.style.display="none")})),function(){return N(!1)}}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.a,{title:"".concat(t.name," | ").concat(y&&b?b:"User"," page")}),L&&k?Object(p.jsxs)("div",{className:"userPageWrapper",children:[Object(p.jsx)(a.a,{path:"/play",name:"Main"}),Object(p.jsxs)("div",{className:"userPageContent",children:[Object(p.jsx)("p",{className:"userPageStatus",children:O}),y&&L?Object(p.jsxs)("div",{className:"userPageGrid",children:[Object(p.jsxs)("div",{className:"userSectionOne",children:[Object(p.jsx)("img",{src:L.profileImage,alt:""}),Object(p.jsxs)("div",{className:"userPageInfo",children:[Object(p.jsxs)("h1",{children:[L.username,"admin"===L.role?Object(p.jsx)("img",{className:"adminIcon",src:h.a,alt:""}):"",L.pro?Object(p.jsx)("img",{className:"proIcon",src:o.a}):null,Object(p.jsx)("span",{children:L.typingHubID})]}),Object(p.jsx)(u.a,{children:Object(p.jsx)("div",{className:"userPageDescription",children:L.description})}),Object(p.jsx)("p",{className:"userPagePoints",children:"".concat(L.points," Points (").concat(L.rank,")")})]})]}),Object(p.jsxs)("div",{className:"userSectionTwo",children:[Object(p.jsx)("h1",{children:"Public info"}),"admin"===L.role?Object(p.jsxs)("p",{className:"adminInfo",children:["This user is a TypingHub Admin ",Object(p.jsx)("img",{className:"adminIcon",src:h.a,alt:""})]}):"",Object(p.jsxs)("p",{children:["Points: ",Object(p.jsx)("span",{children:"".concat(L.points)})]}),Object(p.jsxs)("p",{children:["TypingHub Role: ",Object(p.jsx)("span",{children:"admin"===L.role?"Admin":"User"})]}),Object(p.jsxs)("p",{children:["Keyboard Layout: ",Object(p.jsx)("span",{children:L.keyboardLayout})]}),Object(p.jsxs)("p",{children:["Best: ",Object(p.jsxs)("span",{children:[L.bestWPM," WPM"]})]}),Object(p.jsxs)("p",{children:["Last test: ",Object(p.jsxs)("span",{children:[L.lastWPM," WPM"]})]}),Object(p.jsxs)("p",{children:["Tests: ",Object(p.jsx)("span",{children:L.races})]}),Object(p.jsxs)("p",{children:["Tests on random category:"," ",Object(p.jsx)("span",{children:L.randomTests})]}),Object(p.jsxs)("p",{children:["Tests on quotes category:"," ",Object(p.jsx)("span",{children:L.quotesTests})]}),Object(p.jsxs)("p",{children:["Tests on custom category:"," ",Object(p.jsx)("span",{children:L.customTests})]}),Object(p.jsxs)("p",{children:["Account created on:"," ",Object(p.jsx)("span",{children:"".concat(L.timestamp.toDate().getDate(),"/").concat(L.timestamp.toDate().getMonth()+1,"/").concat(L.timestamp.toDate().getFullYear())})]}),Object(p.jsx)("h1",{style:{marginTop:"25px"},children:"Public statistics"}),Object(p.jsxs)("p",{children:["Average WPM on random category:"," ",Object(p.jsx)("span",{children:I.length>=2?Math.floor(I.reduce((function(e,t){return Math.floor(e+t)}))/I.length):"Unavailable"})]}),Object(p.jsxs)("p",{children:["Average WPM on quotes category:"," ",Object(p.jsx)("span",{children:q.length>=2?Math.floor(q.reduce((function(e,t){return Math.floor(e+t)}))/q.length):"Unavailable"})]}),Object(p.jsxs)("p",{children:["Average WPM on custom category:"," ",Object(p.jsx)("span",{children:D.length>=2?Math.floor(D.reduce((function(e,t){return Math.floor(e+t)}))/D.length):"Unavailable"})]}),I.length>=2&&q.length>=2?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.a,{labels:Y,wpm:I,title:"WPM on Random Category",lineColor:"#5c17c4",pointColor:"#20e6b4"}),Object(p.jsx)(j.a,{labels:K,wpm:q,title:"WPM on Quotes Category",lineColor:"#226be0",pointColor:"#d91ccc"}),D.length>=2?Object(p.jsx)(j.a,{labels:_,wpm:D,title:"WPM on Custom Category",lineColor:"#5ce820",pointColor:"#e82077"}):Object(p.jsx)("p",{style:{marginTop:"30px"},children:'This user didn\'t play enough in the "custom" category to unlock the statistics.'})]}):Object(p.jsx)("p",{className:"restriction",children:"This user did not play enough to unlock the statistics."})]})]}):""===O?Object(p.jsx)("div",{className:"userPageSpinnerTwo"}):null]})]}):Object(p.jsx)(r.a,{}),Object(p.jsx)("div",{className:"userPageSpinner"})]})}},34:function(e){e.exports=JSON.parse('{"name":"TypingHub","profileURL":"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348"}')},35:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s(40),c=(s(44),s(45),s(41),n.a.initializeApp({apiKey:"AIzaSyBPuJnN5gI3o_YZeVNlZwOky-7Y6LDGrTI",authDomain:"justtype-preview.firebaseapp.com",projectId:"justtype-preview",storageBucket:"justtype-preview.appspot.com",messagingSenderId:"648878251377",appId:"1:648878251377:web:e42775dc14919b1475ead0"})),a=n.a.firestore();t.b=c},36:function(e,t,s){"use strict";var n=s(38),c=s(1);t.a=function(e){return Object(c.jsxs)(n.b,{children:[Object(c.jsx)("title",{children:e.title}),Object(c.jsx)("style",{children:"\n                 body {\n                    background-color: #0b101b;       \n                  }\n                "})]})}},42:function(e,t,s){"use strict";var n=s(8),c=s(0),a=(s(22),s(2)),i=s(15),o=s(35),r=s(37),l=s(16),j=s(1);t.a=function(e){var t=Object(c.useState)(""),s=Object(n.a)(t,2),d=s[0],b=s[1],u=Object(c.useContext)(l.b),h=u.user,p=u.setUser,g=u.setUserData;Object(c.useEffect)((function(){var e=!0;return o.b.auth().onAuthStateChanged((function(t){t&&e&&p(t)})),function(){e=!1}}),[]),Object(c.useEffect)((function(){var e=!0;return h&&o.a.collection("notifications").doc("global").onSnapshot({includeMetadataChanges:!0},(function(t){e&&b(t.data().wrapper)})),function(){e=!1}}),[h]);var m=Object(a.f)(),O=!1,x=function(){o.b.auth().signOut(),g(null),p(null),m.push("/sign-in")},f=!1;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"effectLogged",onClick:function(){O=!1;var e=document.querySelector(".mobileNavLogged"),t=document.querySelector(".effectLogged");e.style.display="none",t.style.opacity="0",t.style.zIndex="-2"}}),Object(j.jsxs)("div",{className:"navbarLogged",children:[Object(j.jsx)("h1",{className:"logoNavLogged",children:Object(j.jsxs)(r.a,{to:"/",children:["TypingHu",Object(j.jsx)("span",{})]})}),Object(j.jsxs)("div",{className:"navContent",children:[Object(j.jsx)("ul",{children:Object(j.jsx)(i.b,{to:e.path,children:Object(j.jsx)("li",{children:e.name})})}),Object(j.jsx)(i.b,{to:"/profile",children:Object(j.jsx)("img",{src:h?h.photoURL:"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348",className:"profileImageMobile",alt:""})}),Object(j.jsxs)("div",{className:"notifications",children:[Object(j.jsx)("div",{className:"notificationBox",onClick:function(){f=!f;var e=document.querySelector(".notificationsWrapper");f?(e.style.zIndex="900",e.style.opacity="1"):(e.style.zIndex="-100",e.style.opacity="0")},children:Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#6f32be",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(j.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(j.jsx)("path",{d:"M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"}),Object(j.jsx)("path",{d:"M9 17v1a3 3 0 0 0 6 0v-1"})]})}),Object(j.jsxs)("div",{className:"notificationsWrapper",children:[Object(j.jsx)("h1",{children:"Notifications"}),d?d.length>=1?d.map((function(e){return Object(j.jsxs)("div",{className:"notification",children:[Object(j.jsxs)("p",{className:"sender",children:[Object(j.jsx)("span",{children:"from"})," ",e.sender]}),Object(j.jsxs)("p",{className:"notificationMessage",children:[e.message," ",Object(j.jsxs)("span",{children:[" - ",e.time]})]})]},e.id)})):Object(j.jsx)("p",{className:"zeroNotifications",children:"You have zero notifications!"}):Object(j.jsx)("div",{className:"notificationSpinner"})]})]}),Object(j.jsxs)("button",{className:"navButtonLogged",onClick:x,children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#6f32be",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(j.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(j.jsx)("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),Object(j.jsx)("path",{d:"M20 12h-13l3 -3m0 6l-3 -3"})]}),Object(j.jsx)("p",{children:"Sign Out"})]}),Object(j.jsxs)("div",{className:"hamburgerLogged",onClick:function(){O=!O;var e=document.querySelector(".mobileNavLogged"),t=document.querySelector(".effectLogged");O?(e.style.display="block",t.style.opacity="0.5",t.style.zIndex="999"):(e.style.display="none",t.style.opacity="0",t.style.zIndex="-2")},children:[Object(j.jsx)("div",{className:"lineLogged  line1",children:" "}),Object(j.jsx)("div",{className:"lineLogged line2",children:" "}),Object(j.jsx)("div",{className:"lineLogged  line3",children:" "})]})]})]}),Object(j.jsxs)("div",{className:"mobileNavLogged",children:[Object(j.jsx)("h1",{className:"logoNavMobileLogged",children:Object(j.jsxs)(r.a,{to:"/",children:["TypingHu",Object(j.jsx)("span",{})]})}),Object(j.jsxs)("div",{className:"navContentMobile",children:[Object(j.jsx)("ul",{children:e.play?Object(j.jsx)("a",{href:e.path,children:e.name}):Object(j.jsx)(i.b,{to:e.path,children:Object(j.jsx)("li",{children:e.name})})}),Object(j.jsx)(i.b,{to:"/profile",children:Object(j.jsx)("img",{src:h?h.photoURL:"https://firebasestorage.googleapis.com/v0/b/justtype-preview.appspot.com/o/profileimage.jpg?alt=media&token=ff56cecc-ffce-42c5-8079-bcc806e70348",className:"profileImageMobile",alt:""})}),Object(j.jsxs)("button",{className:"navButtonMobileLogged",onClick:x,children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#6f32be",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(j.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(j.jsx)("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),Object(j.jsx)("path",{d:"M20 12h-13l3 -3m0 6l-3 -3"})]}),Object(j.jsx)("p",{children:"Sign Out"})]})]})]})]})}},43:function(e,t,s){"use strict";s(0),s(22);var n=s(15),c=s(1);t.a=function(e){return Object(c.jsxs)("div",{className:"notLoggedIn",children:[Object(c.jsx)("p",{children:e.adminRequest?"You need to be an admin to view this page":"We are so sorry but you must be logged in to view this page"}),Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsx)(n.b,{to:"/sign-in",children:Object(c.jsx)("button",{children:"Sign In"})}),Object(c.jsx)(n.b,{to:"/sign-up",children:Object(c.jsx)("button",{children:"Sign Up"})})]})]})}},48:function(e,t,s){"use strict";t.a=s.p+"static/media/pro.3e24b768.jpg"},53:function(e,t,s){"use strict";t.a=s.p+"static/media/admin.85cda2f5.svg"},69:function(e,t,s){"use strict";s(0);var n=s(84),c=s(1);t.a=function(e){return Object(c.jsx)("div",{className:"graphic",children:Object(c.jsx)(n.Line,{data:{labels:e.labels,datasets:[{label:e.title,data:e.wpm,backgroundColor:e.pointColor,fill:!1,lineTension:0,borderColor:e.lineColor,pointBorderColor:e.pointColor}]},height:400,width:1600,options:{maintainAspectRatio:!1,layout:{padding:5},scales:{xAxes:[{gridLines:{color:"#111825"},ticks:{display:!1}}],yAxes:[{gridLines:{color:"#111825"}}]}}})})}}}]);
//# sourceMappingURL=11.cbb55460.chunk.js.map